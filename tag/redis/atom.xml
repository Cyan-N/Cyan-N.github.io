<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://cecilia.cool</id>
    <title>æ…•é’ã®è¿·é€” â€¢ Posts by &#34;redis&#34; tag</title>
    <link href="https://cecilia.cool" />
    <updated>2022-11-27T15:59:09.000Z</updated>
    <category term="Docker" />
    <category term="shell" />
    <category term="äºŒæ¬¡å…ƒ" />
    <category term="äº‘è®¡ç®—" />
    <category term="å…«è‚¡æ–‡" />
    <category term="æ•°æ®ç»“æ„ä¸ç®—æ³•" />
    <category term="tools" />
    <category term="ç½‘ç»œåè®®ä¸å·¥å…·" />
    <category term="Redis" />
    <category term="MySQL" />
    <category term="Springå…¨å®¶æ¡¶" />
    <category term="Mybatis" />
    <category term="JVM" />
    <category term="æ—¥å¿—æ¡†æ¶" />
    <category term="Java8" />
    <category term="Concurrency" />
    <category term="uni-app" />
    <category term="JavaåŸºç¡€" />
    <category term="Web" />
    <category term="ç½‘ç»œç¼–ç¨‹" />
    <category term="è®¾è®¡æ¨¡å¼" />
    <entry>
        <id>https://cecilia.cool/2022/11/27/Database/Redis/Redis%E5%85%A5%E9%97%A8(6)-%E4%B8%BB%E4%BB%8E%E4%B8%8E%E5%93%A8%E5%85%B5/</id>
        <title>Rediså…¥é—¨(6)--ä¸»ä»ä¸å“¨å…µ</title>
        <link rel="alternate" href="https://cecilia.cool/2022/11/27/Database/Redis/Redis%E5%85%A5%E9%97%A8(6)-%E4%B8%BB%E4%BB%8E%E4%B8%8E%E5%93%A8%E5%85%B5/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬ç« è®²è§£ redis é…ç½®ä¸»ä»å¤åˆ¶å’Œå“¨å…µæ¨¡å¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;ä¸»ä»å¤åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸»ä»å¤åˆ¶&#34;&gt;#&lt;/a&gt; ä¸»ä»å¤åˆ¶&lt;/h1&gt;
&lt;p&gt;ä¸»ä»èµ‹å€¼æ˜¯æŒ‡å°†ä¸€å° Redis æœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„ Redis æœåŠ¡å™¨ã€‚å‰è€…ç§°ä¸ºä¸»èŠ‚ç‚¹ (Master)ï¼Œåè€…ç§°ä¸ºä»èŠ‚ç‚¹ (Slave)ï¼Œ&lt;strong&gt;æ•°æ®çš„å¤åˆ¶æ˜¯å•å‘çš„&lt;/strong&gt;ï¼Œåªèƒ½ç”±ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ã€‚Master ä»¥å†™ä¸ºä¸»ï¼ŒSlave ä»¥è¯»ä¸ºä¸»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/28/c643227d0a6fbb2f.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯»å†™åˆ†ç¦»ï¼Œæé«˜æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;ä¸»è¦æ˜¯è¯»å¤šå†™å°‘çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä¸ºä¸€ä¸ªä¸»èŠ‚ç‚¹å®‰æ’å¾ˆå¤šä¸ªä»èŠ‚ç‚¹ï¼Œè¿™æ ·å°±èƒ½åˆ†æ‹…å‹åŠ›ï¼Œå³ä½¿æŒ‚æ‰ä¸€ä¸ªï¼Œå…¶ä»–çš„ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¦–å…ˆè¦å¯åŠ¨ä¸¤ä¸ª Redis æœåŠ¡å™¨ï¼Œä¿®æ”¹ä»¥ä¸‹é…ç½®æ–‡ä»¶ï¼Œæ³¨æ„è¿™ä¸¤ä¸ªé…ç½®æ–‡ä»¶çš„ç«¯å£ä¸èƒ½ä¸€æ ·ï¼ˆå› ä¸ºæ˜¯æ”¾åœ¨ä¸€ä¸ªè™šæ‹Ÿæœºä¸Šè·‘çš„ï¼‰ï¼Œæˆ‘è¿™é‡Œæ˜¯ &lt;code&gt;port1 = 6890 port2 = 6891&lt;/code&gt; ã€‚ä¸ºäº†æ–¹ä¾¿è¾¨è®¤ï¼Œå»ºè®®æŠŠæ–‡ä»¶å¤¹åå­—åŠ ä¸Šç«¯å£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/28/63b699ea7ea4c9b9.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯å†™ä¸€ä¸ªå¯åŠ¨è„šæœ¬ &lt;code&gt;start.sh&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token shebang important&#34;&gt;#!/bin/bash&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-master-6890/src/redis-server ./redis-master-6890/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-slave-6891/src/redis-server ./redis-slave-6891/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä¿®æ”¹ä¸€ä¸‹æ‰§è¡Œæƒé™ï¼š &lt;code&gt;chmod u+x start.sh&lt;/code&gt; ï¼Œæ‰§è¡Œæ–‡ä»¶ &lt;code&gt;./start.sh&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å¯åŠ¨æˆåŠŸåè¿æ¥ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-slave-6890/src/redis-cli &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6891&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç”¨ &lt;code&gt;info replication&lt;/code&gt;  æŸ¥çœ‹å½“å‰ä¸»ä»çŠ¶æ€ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:689&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;1&lt;/span&gt;&gt;&lt;/span&gt; info replication&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Replication&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;role:master		&lt;span class=&#34;token comment&#34;&gt;# ç°åœ¨è¿˜æ²¡æœ‰æŒ‡å®šä¸»ä»æœåŠ¡å™¨ï¼Œä¸¤ä¸ª redis å…¶å®éƒ½æ˜¯ master&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;connected_slaves:0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;master_replid:41fc9e87973d2d96832d3abe8485a4b13b718d00&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;master_replid2:0000000000000000000000000000000000000000&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;master_repl_offset:0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;second_repl_offset:-1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;repl_backlog_active:0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;repl_backlog_size:1048576&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;repl_backlog_first_byte_offset:0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;repl_backlog_histlen:0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æˆ‘ä»¬ç°åœ¨ç™»é™†çš„å°±æ˜¯æˆ‘ä»¬å¸Œæœ›ä½œä¸ºä»æœåŠ¡å™¨çš„ redisï¼Œå·²çŸ¥ä¸»æœåŠ¡å™¨æ˜¯ &lt;code&gt;127.0.0.1 6890&lt;/code&gt; ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:689&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;1&lt;/span&gt;&gt;&lt;/span&gt; replicaof &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1 &lt;span class=&#34;token number&#34;&gt;6890&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ—§ç‰ˆæœ¬ä½¿ç”¨çš„å‘½ä»¤æ˜¯ slaveofï¼Œreplicaof æ˜¯æ–°ç‰ˆæœ¬&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç°åœ¨å†ç”¨ &lt;code&gt;info replication&lt;/code&gt;  æŸ¥çœ‹è¯•è¯•ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:689&lt;span class=&#34;token operator&#34;&gt;&lt;span class=&#34;token file-descriptor important&#34;&gt;1&lt;/span&gt;&gt;&lt;/span&gt; info replication&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# Replication&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;role:slave&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;master_host:127.0.0.1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;master_port:6890&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;master_link_status:up&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;master_last_io_seconds_ago:6&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;master_sync_in_progress:0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ....&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç°åœ¨æµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨ä¸»æœåŠ¡å™¨ä¸Šå†™å…¥ï¼Œåœ¨ä»æœåŠ¡å™¨ä¸Šè¯»å–ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/28/35d66c109faea833.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»èŠ‚ç‚¹å‹æ ¹å°±æ²¡åŠæ³•è¿›è¡Œæ•°æ®æ’å…¥ï¼ŒèŠ‚ç‚¹çš„æ¨¡å¼ä¸ºåªè¯»æ¨¡å¼&lt;/strong&gt;ã€‚å¦‚æœä»æœåŠ¡å™¨æƒ³å˜å›ä¸»æœåŠ¡å™¨ï¼Œæ‰§è¡Œ &lt;code&gt;replicaof no one&lt;/code&gt;  å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸»èŠ‚ç‚¹å†™å…¥ä¸€äº›æ•°æ®åï¼Œç”¨æ–°çš„æœåŠ¡å™¨ä½œä¸ºä»æœåŠ¡å™¨è¿æ¥ï¼Œä»æœåŠ¡å™¨ä¼šåŒæ­¥ä¸»èŠ‚ç‚¹çš„æ•°æ®ï¼Œæµç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»èŠ‚ç‚¹æ‰§è¡Œ &lt;code&gt;slave ip port&lt;/code&gt;  å‘½ä»¤åï¼Œä»èŠ‚ç‚¹ä¼šä¿å­˜ä¸»èŠ‚ç‚¹ç›¸å…³çš„åœ°å€ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;ä»èŠ‚ç‚¹é€šè¿‡æ¯ç§’è¿è¡Œçš„å®šæ—¶ä»»åŠ¡å‘ç°é…ç½®äº†æ–°çš„ä¸»èŠ‚ç‚¹åï¼Œä¼šå°è¯•ä¸è¯¥èŠ‚ç‚¹å»ºç«‹ç½‘ç»œè¿æ¥ï¼Œä¸“é—¨ç”¨äºæ¥æ”¶ä¸»èŠ‚ç‚¹å‘é€çš„å¤åˆ¶å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;è¿æ¥æˆåŠŸåï¼Œç¬¬ä¸€æ¬¡ä¼šå°†ä¸»èŠ‚ç‚¹çš„æ•°æ®è¿›è¡Œå…¨é‡å¤åˆ¶ï¼Œä¹‹åé‡‡ç”¨å¢é‡å¤åˆ¶ï¼ŒæŒç»­å°†æ–°æ¥çš„å†™å‘½ä»¤åŒæ­¥ç»™ä»èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“æˆ‘ä»¬çš„ä¸»èŠ‚ç‚¹å…³é—­åï¼Œä»èŠ‚ç‚¹ä¾ç„¶å¯ä»¥è¯»å–æ•°æ®ï¼Œä½†æ˜¯ä»èŠ‚ç‚¹ä¼šç–¯ç‹‚æŠ¥é”™ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æƒ³æ¯æ¬¡éƒ½åœ¨ä»èŠ‚ç‚¹å¯åŠ¨åä½¿ç”¨ &lt;code&gt;replicaof&lt;/code&gt;  é…ç½®ä¸»èŠ‚ç‚¹ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­å†™å¥½ä¸»æœåŠ¡å™¨æ˜¯å“ªä¸ªï¼Œéœ€è¦åŠ å…¥ä¸€è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;replicaof ip port
# replicaof 127.0.0.1 6890
# ä½ å¯ä»¥åœ¨é…ç½®æ–‡ä»¶é‡Œæ‰¾åˆ°replica-read-only yesï¼Œè¡¨ç¤ºä»èŠ‚ç‚¹ä¸ºè¯»æ¨¡å¼
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤å¤–ï¼Œä»èŠ‚ç‚¹ä¹Ÿå¯ä»¥æœ‰ä»èŠ‚ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/28/5507a436bff048c6.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œä¼˜ç‚¹è‚¯å®šæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ•´ä¸ªä¼ æ’­é“¾è·¯ä¸€æ—¦ä¸­é€”å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´åé¢çš„ä»èŠ‚ç‚¹æ— æ³•åŠæ—¶åŒæ­¥ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å“¨å…µæ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“¨å…µæ¨¡å¼&#34;&gt;#&lt;/a&gt; å“¨å…µæ¨¡å¼&lt;/h1&gt;
&lt;p&gt;ç»è¿‡ä¹‹å‰çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå®é™…ä¸Šæœ€å…³é”®çš„è¿˜æ˜¯ä¸»èŠ‚ç‚¹ï¼Œå› ä¸ºä¸€æ—¦ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆæ•´ä¸ªä¸»ä»ç³»ç»Ÿå°†æ— æ³•å†™å…¥ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¾—æƒ³ä¸€ä¸ªåŠæ³•ï¼Œå¤„ç†ä¸€ä¸‹ä¸»èŠ‚ç‚¹æ•…éšœçš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼&lt;strong&gt; Nacos&lt;/strong&gt; å’Œ&lt;strong&gt; Eureka&lt;/strong&gt;ï¼Œæ‰€æœ‰çš„æœåŠ¡éƒ½ä¼šè¢«&lt;strong&gt;å®æ—¶ç›‘æ§&lt;/strong&gt;ï¼Œé‚£ä¹ˆåªè¦å‡ºç°é—®é¢˜ï¼Œè‚¯å®šæ˜¯å¯ä»¥åŠæ—¶å‘ç°çš„ï¼Œå¹¶ä¸”èƒ½å¤Ÿé‡‡å–å“åº”çš„è¡¥æ•‘æªæ–½ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å³å°†ä»‹ç»çš„å“¨å…µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/28/fe67c346f734075b.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å“¨å…µä¼šå¯¹æ‰€æœ‰çš„èŠ‚ç‚¹è¿›è¡Œç›‘æ§ï¼Œå¦‚æœå‘ç°ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆä¼šç«‹å³è®©ä»èŠ‚ç‚¹è¿›è¡ŒæŠ•ç¥¨ï¼Œ&lt;strong&gt;é€‰ä¸¾ä¸€ä¸ªæ–°çš„ä¸»èŠ‚ç‚¹å‡ºæ¥ï¼Œè¿™æ ·å°±ä¸ä¼šç”±äºä¸»èŠ‚ç‚¹çš„æ•…éšœå¯¼è‡´æ•´ä¸ªç³»ç»Ÿä¸å¯å†™&lt;/strong&gt;ï¼ˆæ³¨æ„è¦å®ç°è¿™æ ·çš„åŠŸèƒ½æœ€å°çš„ç³»ç»Ÿå¿…é¡»æ˜¯ä¸€ä¸»ä¸€ä»ï¼Œå†å°çš„è¯å°±æ²¡æœ‰æ„ä¹‰äº†ï¼‰&lt;/p&gt;
&lt;p&gt;é…ç½®æ—¶éœ€è¦ä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶ (ä¸»èŠ‚ç‚¹ï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sentinel monitor cyan-monitor &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1 &lt;span class=&#34;token number&#34;&gt;6890&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ˜¯å›ºå®šï¼Œç¬¬ä¸‰ä¸ªæ˜¯ä¸ºç›‘æ§å¯¹è±¡åç§°ï¼Œéšæ„ï¼Œåé¢å°±æ˜¯ä¸»èŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IP åœ°å€å’Œç«¯å£ï¼Œæœ€åä¸€ä¸ªæ•° x è¡¨ç¤º x ä¸ªå“¨å…µï¼ˆå¯ä»¥è®¾ç½®å¤šä¸ªå“¨å…µï¼‰è®¤ä¸ºä¸»èŠ‚ç‚¹æŒ‚äº†ï¼Œä¸»èŠ‚ç‚¹å°±çœŸçš„æŒ‚äº†ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨å¯åŠ¨æ—¶éœ€è¦åŠ ä¸Š &lt;code&gt;xx/src/redis-server xx/reids.conf --sentinel&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å“¨å…µæ¨¡å¼ä¸‹ï¼Œä»èŠ‚ç‚¹è¿æ¥åˆ°ä¸»èŠ‚ç‚¹ï¼Œå“¨å…µä¹Ÿèƒ½æ£€æµ‹åˆ°è¿™ä¸€è¡Œä¸ºã€‚å½“ä¸»èŠ‚ç‚¹æŒ‚æ‰äº†ï¼Œä¼šé€‰æ‹©æ–°çš„ä¸»èŠ‚ç‚¹ï¼Œæ‰€æœ‰èŠ‚ç‚¹çš„ä¸»ä»å…³ç³»ä¼šè¢«é‡æ–°åˆ†é…ï¼Œå°±è¿æŒ‚æ‰çš„èŠ‚ç‚¹ä¹Ÿä¼šå˜æˆæ–°çš„ä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ï¼ˆå°½ç®¡æŒ‚æ‰çš„èŠ‚ç‚¹è¿˜æ²¡å¯åŠ¨ï¼‰ï¼Œå½“æŒ‚æ‰çš„èŠ‚ç‚¹é‡å¯æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨å˜æˆä»èŠ‚ç‚¹ï¼ˆå¦‚æœæ²¡å˜ï¼Œä¼°è®¡å¼å¡äº†ï¼Œç­‰ä¸€ä¼šï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‰ä¸¾è§„åˆ™&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆä¼šæ ¹æ®ä¼˜å…ˆçº§è¿›è¡Œé€‰æ‹©ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œæ·»åŠ  &lt;code&gt;replica-priority&lt;/code&gt;  é…ç½®é¡¹ï¼ˆé»˜è®¤æ˜¯ 100ï¼‰ï¼Œè¶Šå°è¡¨ç¤ºä¼˜å…ˆçº§è¶Šé«˜ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ä¸€æ ·ï¼Œé‚£å°±é€‰æ‹©åç§»é‡æœ€å¤§çš„&lt;/li&gt;
&lt;li&gt;è¦æ˜¯è¿˜é€‰ä¸å‡ºæ¥ï¼Œé‚£å°±é€‰æ‹© runidï¼ˆå¯åŠ¨æ—¶éšæœºç”Ÿæˆçš„ï¼‰æœ€å°çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ºäº†é¿å…å“¨å…µä¹ŸæŒ‚äº†ï¼Œå¯ä»¥å¤šå®‰æ’å‡ ä¸ªå“¨å…µï¼ˆä¸€ä¸ªå“¨å…µå°±è¦å¤šå¯åŠ¨ä¸€ä¸ª redis æœåŠ¡ï¼‰ï¼Œåªéœ€è¦æŠŠå“¨å…µçš„é…ç½®å¤åˆ¶ä¸€ä¸‹ï¼Œç„¶åä¿®æ”¹ç«¯å£ï¼Œè¿™æ ·å°±å¯ä»¥åŒæ—¶å¯åŠ¨å¤šä¸ªå“¨å…µäº†&lt;/p&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‚è€ƒ&#34;&gt;#&lt;/a&gt; å‚è€ƒ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vZmFuc2h1eWFvL3AvMTQxNTYyMDguaHRtbA==&#34;&gt;https://www.cnblogs.com/fanshuyao/p/14156208.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cueXVxdWUuY29tL3Fpbmdrb25neGlhZ3Vhbmcvc3ByaW5nL3hvYXBxNSMwMDJmNzE5Yw==&#34;&gt;https://www.yuque.com/qingkongxiaguang/spring/xoapq5#002f719c&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="Redis" />
        <updated>2022-11-27T15:59:09.000Z</updated>
    </entry>
    <entry>
        <id>https://cecilia.cool/2022/11/15/Database/Redis/Redis%E5%85%A5%E9%97%A8(5)-%E9%85%8D%E7%BD%AE%E9%9B%86%E7%BE%A4/</id>
        <title>Rediså…¥é—¨(5)-é…ç½®é›†ç¾¤</title>
        <link rel="alternate" href="https://cecilia.cool/2022/11/15/Database/Redis/Redis%E5%85%A5%E9%97%A8(5)-%E9%85%8D%E7%BD%AE%E9%9B%86%E7%BE%A4/"/>
        <content type="html">&lt;h1 id=&#34;å®‰è£…redis&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…redis&#34;&gt;#&lt;/a&gt; å®‰è£… Redis&lt;/h1&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆç¬¬ä¸€ç« å·²ç»è®²äº†å®‰è£…ï¼Œè¿™é‡Œè¿˜è¦è®²ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€ç« ä¸»è¦æ˜¯ windows ä¸‹å®‰è£…ï¼Œå•çº¯è§£å‹ä¸€ä¸ªå‹ç¼©åŒ…å°±èƒ½ç”¨ï¼Œä½†æ˜¯ Linux æ–¹é¢åè€Œæ²¡è®²æ¸…æ¥šã€‚&lt;/li&gt;
&lt;li&gt;é‡æ–°è®²ä¸€ä¸‹ CentOS ä¸‹å®‰è£… Redisï¼Œä»¥åŠä¸€äº›æ“ä½œï¼Œæ–¹ä¾¿æˆ‘ä»¬é…ç½® Redis é›†ç¾¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½ éœ€è¦åœ¨è™šæ‹Ÿæœºä¸Šå¤šå®‰è£…å‡ ä¸ª CentOS ç³»ç»Ÿï¼Œè‡³å°‘ä¸¤ä¸ªï¼Œå¹¶ä¸”éƒ½éœ€è¦è£… Redisï¼Œæ‰€ä»¥è¯·ä¸è¦å·æ‡’ï¼Œæœ¬æ–‡ä¼šä¸€æ­¥æ­¥å¸¦ä½ æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å®‰è£…centos&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…centos&#34;&gt;#&lt;/a&gt; å®‰è£… CentOS&lt;/h2&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨çš„æ˜¯ CentOS-7 ç‰ˆæœ¬ï¼Œé•œåƒæºæ–‡ä»¶é“¾æ¥ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9taXJyb3JzLmFsaXl1bi5jb20vY2VudG9zLzcvaXNvcy94ODZfNjQvQ2VudE9TLTcteDg2XzY0LURWRC0yMDA5Lmlzbw==&#34;&gt;CentOS-7-x86_64-DVD-2009.iso&lt;/span&gt;  4.4GB ä¸è¦ä¸‹é”™äº†ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–°å»ºè™šæ‹Ÿæœº &lt;code&gt;-&amp;gt;&lt;/code&gt;  è‡ªå®šä¹‰ (é«˜çº§)(C)ï¼Œç„¶åç‚¹ä¸¤æ¬¡ä¸‹ä¸€æ­¥ï¼Œåˆ°é€‰æ‹©å®‰è£…ç¨‹åºå…‰ç›˜æ˜ åƒæ–‡ä»¶ï¼š&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/15/1003d12ff9d9618d.jpg&#34; alt=&#34;&#34; /&gt;&lt;/li&gt;
&lt;li&gt;ç„¶åå¯¹ç³»ç»Ÿå‘½åï¼Œé€‰æ‹©åˆé€‚çš„æ–‡ä»¶å¤¹å­˜æ”¾ï¼Œå¯ä»¥çœ‹åˆ°è¿™å°†æ˜¯æˆ‘ç¬¬ä¸‰ä¸ª CentOSï¼š&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/15/ccf2923389650d5b.jpg&#34; alt=&#34;&#34; /&gt;&lt;/li&gt;
&lt;li&gt;åˆ†é…å¤„ç†å™¨æ•°é‡å’Œå†…æ ¸æ•°é‡ï¼Œéƒ½é€‰ 2 å°±è¡Œï¼Œä¸‹ä¸€æ­¥åˆ†é…å†…å­˜ï¼Œæˆ‘é€‰çš„æ˜¯ 2048MBã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œä½¿ç”¨ NATï¼Œå®ƒé»˜è®¤é€‰å¥½äº†ï¼Œæ— è„‘ä¸‹ä¸€æ­¥å°±è¡Œï¼Œç£ç›˜å¤§å°åˆ†é… 20GBï¼ˆå…¶å®åªæ˜¯è£… Redis çš„è¯ä¹Ÿç”¨ä¸äº†é‚£ä¹ˆå¤šğŸ¤£ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè¿›å…¥è‡ªå®šä¹‰ç¡¬ä»¶ï¼Œç§»é™¤æ‰“å°æœºå³å¯ã€‚&lt;/li&gt;
&lt;li&gt;ç›´æ¥é€‰æ‹© Englishï¼ˆUnited Statesï¼‰ï¼Œç„¶åæœ‰å‡ ä¸ªå…³é”®çš„æ­¥éª¤ä¸€å®šè¦è·Ÿç€æ“ä½œ
&lt;ol&gt;
&lt;li&gt;è¿›å…¥ &lt;code&gt;SOFTWARE SELECTION&lt;/code&gt; ï¼Œå‹¾é€‰ &lt;code&gt;GNOME Desktop&lt;/code&gt; ï¼Œè¿™æ˜¯ä¸‹è½½æ¡Œé¢ç‰ˆï¼Œä¸å‹¾é€‰çš„è¯å®‰è£…å¥½åå°±æ˜¯å‘½ä»¤è¡Œæ¨¡å¼ï¼Œçœ‹ä½ å–œæ¬¢å“ªä¸€ç§å’¯ï¼ˆè™½ç„¶æˆ‘è£…å¥½åä¹Ÿæ˜¯æœ¬åœ° ssh è¿æ¥çš„ğŸ¤£ï¼‰ï¼Œé€‰åç‚¹å‡»å·¦ä¸Šè§’ Doneï¼š&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/15/aa56274310ba017c.jpg&#34; alt=&#34;&#34; /&gt;&lt;/li&gt;
&lt;li&gt;è¿›å…¥ &lt;code&gt;NETWORK &amp;amp; HOST NAME&lt;/code&gt;  ï¼Œæ‰“å¼€ Ethernetï¼ˆens33ï¼‰ï¼Œä¸€å®šè¦æ‰“å¼€ï¼Œä¸ç„¶ &lt;code&gt;ifconfig&lt;/code&gt;  å‘½ä»¤æ‰¾ä¸åˆ° ipï¼š&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/15/df15644342b77a4d.jpg&#34; alt=&#34;&#34; /&gt;&lt;/li&gt;
&lt;li&gt;è®¾ç½®è´¦æˆ·å¯†ç å°±è¡Œäº†&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸‹è½½redis&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸‹è½½redis&#34;&gt;#&lt;/a&gt; ä¸‹è½½ Redis&lt;/h2&gt;
&lt;p&gt;é€šè¿‡å‘½ä»¤è¡Œå®‰è£…å³å¯ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½å‹ç¼©åŒ…ï¼Œè§£å‹å®‰è£…ï¼Œæˆ‘ä»¬è¿™é‡Œè®²åè€…ï¼Œå‘½ä»¤è¡Œå®‰è£…è™½ç„¶ç®€å•ï¼Œä½†æ˜¯ä¸æ–¹ä¾¿è®²è§£&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å»ºè®®åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º devtool ç›®å½•ï¼Œæ”¾å¼€å‘è½¯ä»¶&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; /&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; devtool&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; devtool&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ–°å»º redis ç›®å½•ï¼Œå¾…ä¼šä¸‹è½½çš„ä¸œè¥¿å°±æ”¾åˆ°è¿™é‡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; redis&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; redis&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åœ¨ redis ç›®å½•ä¸‹è½½å‹ç¼©åŒ…&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; http://download.redis.io/releases/redis-5.0.14.tar.gz&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è§£å‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;tar&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-zxf&lt;/span&gt; redis-5.0.14.tar.gz&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; redis-3.2.0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å¦‚æœæ²¡æœ‰ gcc å’Œ vimï¼Œä¸‹è½½ä¸€ä¸‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gcc&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å®‰è£…&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;make&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿˜æ˜¯åœ¨ redis-5.0.14ï¼ˆè§£å‹åçš„ç›®å½•ï¼‰ï¼Œ &lt;code&gt;ls&lt;/code&gt;  ç›®å½•çœ‹åˆ° &lt;code&gt;redis.conf&lt;/code&gt;  æ–‡ä»¶ï¼Œæœ‰äº›äººå–œæ¬¢ä¸ªäººä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œéœ€è¦å¤åˆ¶ä¸€ä»½ &lt;code&gt;redis.conf&lt;/code&gt; ï¼Œç„¶åå†ä¿®æ”¹å¤åˆ¶æ–‡ä»¶ï¼Œæ”¾åˆ°å…¶ä»–ä½ç½®ï¼Œå¯åŠ¨ redis æ—¶å†æŒ‡å®šè¯¥æ–‡ä»¶ï¼Œæ€»ä¹‹å°±æ˜¯é¿å…åœ¨åŸæ–‡ä»¶ä¸­ä¿®æ”¹ï¼Œå¯æ˜¯æˆ‘åä¸ï¼Œè‡ªå·±ä¼šç”¨å°±è¡Œï¼ˆå½“ç„¶ï¼Œä½ è¦ç¡®ä¿ä½ åœ¨æ”¹ä»€ä¹ˆï¼Œè€Œä¸æ˜¯è¯´æ”¹äº†ä¹‹åå‡ºäº†é—®é¢˜ä½ ä¸ä¼šè§£å†³ï¼‰ï¼Œè§„çŸ©æ˜¯æ­»çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç›´æ¥ &lt;code&gt;sudo vim redis.conf&lt;/code&gt;  ä¿®æ”¹æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰¾åˆ° &lt;code&gt;protected-mode yes&lt;/code&gt; ï¼ŒæŠŠ &lt;code&gt;yes&lt;/code&gt;  æ”¹ä¸º &lt;code&gt;no&lt;/code&gt; ã€‚ä¿æŠ¤æ¨¡å¼æ˜¯åªå…è®¸ä¸»æœºè¿æ¥ redis æœåŠ¡å™¨ï¼Œæ”¹ä¸º &lt;code&gt;no&lt;/code&gt;  å°±èƒ½ä½¿å…¶ä»–è®¾å¤‡è¿åˆ° redisã€‚&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ° &lt;code&gt;bind 127.0.0.1&lt;/code&gt; ï¼Œæ³¨é‡Šæ‰å®ƒï¼Œåˆ äº†ä¹Ÿè¡Œã€‚é»˜è®¤çš„ bind æ¥å£æ˜¯ 127.0.0.1ï¼Œä¹Ÿå°±æ˜¯æœ¬åœ°å›ç¯åœ°å€ã€‚è¿™æ ·çš„è¯ï¼Œè®¿é—® redis æœåŠ¡åªèƒ½é€šè¿‡æœ¬æœºçš„å®¢æˆ·ç«¯è¿æ¥ï¼Œè€Œæ— æ³•é€šè¿‡è¿œç¨‹è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ° &lt;code&gt;daemonize no&lt;/code&gt; ï¼Œæ”¹ä¸º &lt;code&gt;yes&lt;/code&gt; ï¼Œè¿™æ ·å¯åŠ¨å°±æ˜¯åå°è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Esc&lt;/code&gt; + &lt;code&gt;:wq&lt;/code&gt;  é€€å‡ºï¼ˆæˆ‘é»˜è®¤ä½ ä¼šä½¿ç”¨ vimï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç°åœ¨å°±å¯ä»¥è¿è¡Œ redis äº†ï¼Œ &lt;code&gt;redis-server&lt;/code&gt;  æ”¾åœ¨ src ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬åœ¨è¿è¡Œæ—¶å†æŒ‡å®šä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;src/redis-server redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹åå°è¿è¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-ef&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; redis&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;cyan       &lt;span class=&#34;token number&#34;&gt;6649&lt;/span&gt;      &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; 09:58 ?        00:00:00 src/redis-server *:6379&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;cyan       &lt;span class=&#34;token number&#34;&gt;6654&lt;/span&gt;   &lt;span class=&#34;token number&#34;&gt;3218&lt;/span&gt;  &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; 09:59 pts/1    00:00:00 &lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;--color&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;auto redis&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;å…³é—­é˜²ç«å¢™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…³é—­é˜²ç«å¢™&#34;&gt;#&lt;/a&gt; å…³é—­é˜²ç«å¢™&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†ä¿è¯æˆ‘ä»¬æœ¬åœ°ï¼ˆwindowsï¼‰èƒ½å¤Ÿè¿æ¥è™šæ‹Ÿæœºçš„ redisï¼Œé™¤äº†è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè¿˜è¦æŠŠé˜²ç«å¢™å…³ä¸€ä¸‹ï¼ˆæç¬‘ï¼Œå¼€å‘è€…è¦å•¥é˜²ç«å¢™ï¼Œä½ çš„ç”µè„‘ä¸Šä¸ä¼šæœ‰æ€æ¯’è½¯ä»¶å§ï¼Ÿï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl status firewalld.service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/15/ab55defcb0f5c8dd.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å…³é—­é˜²ç«å¢™&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl stop firewalld.service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/15/6db90319eb68d7f3.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®æˆ‘å»ºè®®ç¦æ­¢é˜²ç«å¢™å¯åŠ¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl disable firewalld.service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç„¶åå°± ok äº†ï¼Œä½ å¯ä»¥å†çœ‹ä¸€ä¸‹é˜²ç«å¢™çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸‹è½½redis-view&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸‹è½½redis-view&#34;&gt;#&lt;/a&gt; ä¸‹è½½ Redis view&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªå¯è§†åŒ–å·¥å…·ï¼Œæ­£å¥½è¯•è¯•èƒ½ä¸èƒ½è¿ä¸Šè™šæ‹Ÿæœºçš„ redisï¼Œå®‰è£…åŒ…æˆ‘æ”¾åœ¨é˜¿é‡Œäº‘ç›˜äº†ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYWxpeXVuZHJpdmUuY29tL3MvTmhoRFJDUjFTM3M=&#34;&gt;https://www.aliyundrive.com/s/NhhDRCR1S3s&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ windows æœ¬åœ°å®‰è£…å¥½åæ‰“å¼€ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¿æ¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/15/7740ac1f62e60421.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ip è®°å¾—è¾“ä½ è‡ªå·±çš„ï¼Œä¸éœ€è¦å¯†ç ï¼Œå› ä¸ºé…ç½®æ–‡ä»¶é»˜è®¤æ˜¯ä¸éœ€è¦å¯†ç çš„ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è®¾ç½®ï¼Œé‚£ä¸ªé€‰é¡¹æ˜¯ &lt;code&gt;requirepasswd&lt;/code&gt;  æ¥ç€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘è¸©è¿‡çš„å‘ï¼Œä¸€ç‚¹é¢˜å¤–è¯&lt;/strong&gt;ğŸ¤£ï¼š&lt;/p&gt;
&lt;p&gt;åˆšå¼€å§‹ç”¨è¿™ä¸ªå¯è§†åŒ–å·¥å…·è¿æ¥çš„æ—¶å€™ï¼Œæ€»ä¼šå‡ºé”™ï¼Œç‚¹å‡»é‚£ä¸ªæµ‹è¯•é“¾æ¥ï¼Œ&lt;strong&gt;æ˜¾ç¤º ping ä¸é€š&lt;/strong&gt;ï¼Œä½†æ˜¯æˆ‘åœ¨ cmd é‡Œé¢ ping è™šæ‹Ÿæœºçš„ ip åˆå¯ä»¥ï¼Œå°±å¾ˆæ‡µé€¼ï¼Œå½“æ—¶ä¹Ÿæ˜¯è¯¾ä¸Šè€å¸ˆå«æˆ‘ä»¬å®‰è£…ï¼Œç„¶åæˆ‘å°±æŠŠè¿™é—®é¢˜å‘ç¾¤ï¼ˆä¸€èˆ¬ä¸€é—¨è¯¾éƒ½ä¼šæœ‰ç¾¤ï¼‰é‡Œæ±‚åŠ©ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/15/a8db54b8edc3bd06.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç»“æœå¹¶æ²¡æœ‰äººé¸Ÿæˆ‘ï¼Œæˆ‘å¿…é¡»ä½¿ç”¨ä¸‹é¢çš„ ssh è¾“å…¥è´¦æˆ·å’Œå¯†ç ï¼ˆcentos è´¦æˆ·ï¼‰æ‰èƒ½è¿æ¥ redisï¼Œä¸€å¼€å§‹æ˜¯æ€ä¹ˆä¹Ÿæƒ³ä¸é€šã€‚å½“æ—¶åˆå¸ƒç½®ä¸ªä½œä¸šï¼Œå«åœ¨æœ¬åœ° windows ä½¿ç”¨ springboot è¿æ¥è™šæ‹Ÿæœºçš„ redis åšç‚¹ä¸œè¥¿ï¼Œæˆ‘é ï¼ŒJava å’‹è¿æ¥ ssh æˆ‘çš„è™šæ‹Ÿæœºçš„åŒæ—¶åˆè¿æ¥è™šæ‹Ÿæœºçš„ redisï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;åæ¥æŸ¥å‘ç°æ˜¯é˜²ç«å¢™çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸Šè¯¾æ—¶è€å¸ˆå«æˆ‘ä»¬æŠŠé˜²ç«å¢™å…³äº†ï¼Œå‘äº†è¿™äº›å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è¿™äº›å‘½ä»¤ä¹Ÿæ˜¯æ­£ç¡®çš„&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl status firewalld&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl stop firewalld&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl disable firewalld&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;æˆ‘å°±ä¸€ç›´é»˜è®¤æˆ‘æ˜¯å…³äº†é˜²ç«å¢™çš„ï¼Œç„¶åå°±è‡ªåŠ¨è·³è¿‡äº†æ£€æŸ¥é˜²ç«å¢™è¿™ä¸€æ“ä½œ&lt;/strong&gt;ï¼Œæˆ‘é ï¼Œæ‰¾äº†ä¸€ä¸Šåˆã€‚åæ¥æƒ³äº†ä¸€ä¸‹ï¼Œéœ€è¦ ssh è¿æ¥æ‰èƒ½è¿æ¥ redisï¼Œå…¶å®è¿™å˜ç›¸å°±æ˜¯é€šè¿‡ ssh ç™»å½•äº†ä½ çš„è™šæ‹Ÿæœºè´¦æˆ·ï¼Œç„¶åç›´è¿ redis æœåŠ¡ã€‚&lt;strong&gt;éœ€è¦ ssh è¿æ¥ï¼Œæ˜¯å› ä¸º centos ä¸ä¿¡ä»»ä½ ï¼Œé‚£ä¹ˆå°±ä¸€å®šæœ‰ä¸ªä¸œè¥¿ç»™ä½ æŒ¡ç€ï¼Œè¿™æ‰æƒ³èµ·è¦æ”¹é˜²ç«å¢™&lt;/strong&gt;ï¼Œå¥½äº†ï¼Œè¸©å‘åˆ†äº«åæ§½ç»“æŸã€‚&lt;/p&gt;
&lt;h1 id=&#34;é…ç½®é›†ç¾¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é…ç½®é›†ç¾¤&#34;&gt;#&lt;/a&gt; é…ç½®é›†ç¾¤&lt;/h1&gt;
&lt;p&gt;å•æœºçš„å†…å­˜å®¹é‡æœ‰é™ï¼Œéš¾ä»¥æ‰©å±•ï¼Œè€Œ redis åˆä¼šå¤§é‡ä½¿ç”¨å†…å­˜ï¼Œæ‰€ä»¥å¯ä»¥è®©å¤šå°æœåŠ¡å™¨åˆ†åˆ«å­˜å‚¨å„ä¸ªéƒ¨åˆ†æ•°æ®ï¼Œå®ç°å®¹é‡æ¨ªå‘æ‰©å±•ï¼Œå¦‚ä¸‹å›¾ï¼šä¸»ä»èŠ‚ç‚¹æ˜¯ä¸»ä»å¤åˆ¶éƒ¨åˆ†å†…å®¹ï¼Œå¯ä»¥æš‚æ—¶ä¸ç”¨ç®¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/27/3c3e343999725437.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆç”¨æˆ·å¦‚ä½•é€‰æ‹©å†™åˆ°å“ªä¸ª redis å‘¢ï¼Ÿè¿™æ¶‰åŠåˆ°é›†ç¾¤çš„æœºåˆ¶ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª Redis æ±²å–åŒ…å«&lt;strong&gt; 16384&lt;/strong&gt; ä¸ªæ’æ§½ï¼Œé›†ç¾¤ä¸­çš„æ¯ä¸ª Redis å®ä¾‹è´Ÿè´£ç»´æŠ¤&lt;strong&gt;ä¸€éƒ¨åˆ†&lt;/strong&gt;æ’æ§½ä»¥åŠæ’æ§½æ‰€æ˜ å°„çš„é”®å€¼æ•°æ®ã€‚æ’æ§½æ˜¯é”®çš„ Hash è®¡ç®—åçš„ä¸€ä¸ªç»“æœï¼Œè¿™é‡Œé‡‡ç”¨äº†è®¡ç½‘çš„çŸ¥è¯† â€”â€”CRC16ï¼ˆCRC å¾ªç¯å†—ä½™æ ¡éªŒï¼‰ï¼Œå¾—åˆ°çš„ç»“æœ&lt;strong&gt; 0-65535&lt;/strong&gt; ä¹‹é—´ï¼Œå†è¿›è¡Œå–æ¨¡ï¼Œå¾—åˆ°æœ€ç»ˆç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Redis key çš„è·¯ç”±è®¡ç®—å…¬å¼ï¼šslot = CRC16ï¼ˆkeyï¼‰ % 16384&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—å‡ºæ¥&lt;strong&gt; slot&lt;/strong&gt; æ˜¯å¤šå°‘ï¼Œå°±å­˜æ”¾åˆ°å¯¹åº”ç»´æŠ¤çš„ Redis ä¸‹ï¼Œæ‰€ä»¥æœ¬è´¨å°±æ˜¯é€šè¿‡å“ˆå¸Œç®—æ³•å°†æ’å…¥çš„æ•°æ®åˆ†æ‘Šåˆ°å„ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ­å»ºç®€å•çš„ Redis é›†ç¾¤ï¼Œåˆ›å»º 6 ä¸ªé…ç½®ï¼ˆå¦‚æœæœ‰ä¸»ä»éœ€æ±‚ï¼Œè‡³å°‘æ˜¯ 6 ä¸ª redisï¼‰ï¼Œé¦–å…ˆä¸Šæ–‡æåˆ°çš„å‹ç¼©åŒ…å¸Œæœ›ä½ è¿˜ç•™ç€ï¼Œç„¶åå†é‡æ–°è§£å‹å››ä¸ªå‡ºæ¥ï¼Œ &lt;code&gt;make&lt;/code&gt;  ç¼–è¯‘ä¸€ä¸‹ï¼Œè¿™å››ä¸ªçš„é…ç½®éƒ½è¦å’Œä¸Šé¢ä¸€æ ·ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œ &lt;code&gt;redis.conf&lt;/code&gt;  è¿˜éœ€è¦æ”¹ä¸¤ä¸ªï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å››ä¸ª redisï¼Œæˆ‘è¿™è¾¹çš„ç«¯å£æ˜¯ä» 6980~6983 å››ä¸ªç«¯å£&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;port &lt;span class=&#34;token number&#34;&gt;8980&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç”¨:/cluster-enabled å¿«é€ŸæŸ¥æ‰¾å°±å¯ä»¥&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;cluster-enabled &lt;span class=&#34;token function&#34;&gt;yes&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å–æ¶ˆæ³¨é‡Šï¼Œé…ç½®æ–‡ä»¶çš„åå­—æ ¹æ®ç«¯å£åä¿®æ”¹ä¸€ä¸‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;cluster-config-file nodes-6980.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å»ºè®®ä½ çš„ç›®å½•ç»“æ„å’Œæˆ‘ä¸€æ ·ï¼š&lt;/p&gt;
&lt;p&gt;ç„¶åå°† 6 ä¸ªéƒ½å¯åŠ¨ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6980/src/redis-server redis-cluster-6980/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6981/src/redis-server redis-cluster-6981/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6982/src/redis-server redis-cluster-6982/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6983/src/redis-server redis-cluster-6983/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6982/src/redis-server redis-cluster-6984/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6983/src/redis-server redis-cluster-6985/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦‚æœä½ è§‰å¾—è¿™æ ·æ¯æ¬¡è¿™æ ·å¯åŠ¨å¤ªéº»çƒ¦ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªè„šæœ¬ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä¸€å®šè¦åœ¨ redis ç›®å½•ä¸‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;root@localhost redis&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;# vim start-cluster.sh&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è„šæœ¬å†…å®¹ï¼Œè¯¥æ³¨é‡Šä¸è¦å¤åˆ¶è¿›å»&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;#!/bin/bash&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6980/src/redis-server redis-cluster-6980/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6981/src/redis-server redis-cluster-6981/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6982/src/redis-server redis-cluster-6982/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6983/src/redis-server redis-cluster-6983/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6982/src/redis-server redis-cluster-6984/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./redis-cluster-6983/src/redis-server redis-cluster-6985/redis.conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç„¶åæ·»åŠ æ‰§è¡Œæƒé™ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;chmod&lt;/span&gt; u+x start-cluster.sh&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä¹‹åå¯åŠ¨ï¼š./start-cluster.sh å³å¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯åŠ¨åæŸ¥çœ‹ä¸€ä¸‹ï¼ˆè¿™æ˜¯æˆ‘ä¹‹å‰çš„å›¾ï¼Œåªæœ‰å››ä¸ªï¼Œåº”è¯¥å¯åŠ¨å…­ä¸ªï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/27/f5913c771ad50b97.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹åå®¢æˆ·ç«¯é…ç½®é›†ç¾¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster-6980/src/redis-cli &lt;span class=&#34;token parameter variable&#34;&gt;--cluster&lt;/span&gt; create --cluster-replicas &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:6980 &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:6981 &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:6982 &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:6983 &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:6984 &lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;.0.1:6985&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿™é‡Œçš„ &lt;code&gt;--cluster-replicas 1&lt;/code&gt;  æŒ‡çš„æ˜¯æ¯ä¸ªèŠ‚ç‚¹é…ä¸€ä¸ªä»èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/27/a263f650952b426c.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ•´ä¸ªé›†ç¾¤å°±æ­å»ºå¥½äº†ï¼Œä½¿ç”¨ &lt;code&gt;ls&lt;/code&gt;  å‘½ä»¤ä½ å¯ä»¥çœ‹åˆ°:&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.uuu.ovh/imgs/2022/11/27/595bef3292092f82.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç”Ÿæˆäº†ä¸€äº›.rdbï¼Œ.conf æ–‡ä»¶ï¼ˆconf æ–‡ä»¶å¯åŠ¨ redis æ—¶å°±ç”Ÿæˆäº†ï¼‰ï¼Œå¦‚æœéœ€è¦å–æ¶ˆé›†ç¾¤é…ç½®ï¼Œå°±è¦å…ˆæ€æ­»è¿™äº› redis è¿›ç¨‹ï¼Œåœ¨åˆ é™¤è¿™äº›æ–‡ä»¶å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„ redis æ•°ç›®å°‘äº 6 ä¸ªï¼Œå°±ä¼šæŠ¥é”™ï¼šè¿™ç§é”™æ˜¯å› ä¸ºè¦é…ç½®ä»æœåŠ¡å™¨ï¼Œå¦‚æœæ²¡æœ‰ &lt;code&gt;--cluser-replicas 1&lt;/code&gt;  å‘½ä»¤å°±ä¸ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;*** ERROR: Invalid configuration &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; cluster creation.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;*** Redis Cluster requires at least &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; master nodes.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;*** This is not possible with &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; nodes and &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; replicas per node.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;*** At least &lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt; nodes are required.&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ç°åœ¨è¿æ¥æµ‹è¯•ä»¥ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;figcaption data-lang=&#34;Bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# 6980 è¿™ä¸ª redis è¢«è®¾ç½®ä¸ºä¸»æœåŠ¡å™¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cluster-6980/src/redis-cli &lt;span class=&#34;token parameter variable&#34;&gt;-c&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6980&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å‘ç°å¯ä»¥è¿æ¥ï¼Œokï¼&lt;/p&gt;
&lt;p&gt;ä¸€äº›å‘ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‰ˆæœ¬ 5 ä»¥ä¸Šæ‰èƒ½ä½¿ç”¨ &lt;code&gt;--cluster&lt;/code&gt;  å‘½ä»¤ï¼Œç‰ˆæœ¬ 5 ä»¥ä¸‹ä¼šæ‰¾ä¸åˆ°è¯¥å‘½ä»¤ï¼Œå½“ç„¶æœ‰å…¶ä»–è§£å†³åŠæ³•ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä½ å¯ä»¥çœ‹çœ‹è¯¥&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1d2hfL2FydGljbGUvZGV0YWlscy83OTI0MjYyNQ==&#34;&gt;æ–‡ç« &lt;/span&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--cluser-replicas 1&lt;/code&gt;  è¡¨ç¤ºæ¯ä¸ªä¸»æœåŠ¡å™¨é…ç½®ä¸€ä¸ªä»æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‚è€ƒ&#34;&gt;#&lt;/a&gt; å‚è€ƒ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cueXVxdWUuY29tL3Fpbmdrb25neGlhZ3Vhbmcvc3ByaW5nL3hvYXBxNSM5MmExZGM2MQ==&#34;&gt;https://www.yuque.com/qingkongxiaguang/spring/xoapq5#92a1dc61&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1d2hfL2FydGljbGUvZGV0YWlscy83OTI0MjYyNQ==&#34;&gt;https://blog.csdn.net/huwh_/article/details/79242625&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0NzU5MTgwL2FydGljbGUvZGV0YWlscy8xMDYyNjU2MTA/b3BzX3JlcXVlc3RfbWlzYz0lMjU3QiUyNTIycmVxdWVzdCUyNTVGaWQlMjUyMiUyNTNBJTI1MjIxNjY5NTMyNDUwMTY3ODI0MjU2OTY5NjIlMjUyMiUyNTJDJTI1MjJzY20lMjUyMiUyNTNBJTI1MjIyMDE0MDcxMy4xMzAxMDIzMzQucGMlMjU1RmFsbC4lMjUyMiUyNTdEJmFtcDtyZXF1ZXN0X2lkPTE2Njk1MzI0NTAxNjc4MjQyNTY5Njk2MiZhbXA7Yml6X2lkPTAmYW1wO3V0bV9tZWRpdW09ZGlzdHJpYnV0ZS5wY19zZWFyY2hfcmVzdWx0Lm5vbmUtdGFzay1ibG9nLTJ+YWxsfmZpcnN0X3JhbmtfZWNwbV92MX5yYW5rX3YzMV9lY3BtLTUtMTA2MjY1NjEwLW51bGwtbnVsbC4xNDIlNUV2NjYlNUVwY19yYW5rXzM0X3F1ZXJ5cmVsZXZhbnQyNSwyMDElNUV2MyU1RWNvbnRyb2xfMSwyMTMlNUV2MiU1RXQzX2VzcXVlcnlfdjEmYW1wO3V0bV90ZXJtPVVucmVjb2duaXplZCUyMG9wdGlvbiUyMG9yJTIwYmFkJTIwbnVtYmVyJTIwb2YlMjBhcmdzJTIwZm9yJTNBJTIwLS1jbHVzdGVyJmFtcDtzcG09MTAxOC4yMjI2LjMwMDEuNDE4Nw==&#34;&gt;Redis5 åŠä»¥ä¸‹ç‰ˆæœ¬é›†ç¾¤éƒ¨ç½²&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3d3dy55YXlpaG91c2UuY29tL3lheWlzaHV3dS9jaGFwdGVyLzI0MTc=&#34;&gt;http://www.yayihouse.com/yayishuwu/chapter/2417&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¼ºçƒˆæ¨è&lt;/strong&gt;ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ppYW5naHVjaHVhbmcvYXJ0aWNsZS9kZXRhaWxzLzExMzc5NTI1NT9vcHNfcmVxdWVzdF9taXNjPSUyNTdCJTI1MjJyZXF1ZXN0JTI1NUZpZCUyNTIyJTI1M0ElMjUyMjE2Njk1MzEwODkxNjc4MjQyODY1OTM3OSUyNTIyJTI1MkMlMjUyMnNjbSUyNTIyJTI1M0ElMjUyMjIwMTQwNzEzLjEzMDEwMjMzNC4uJTI1MjIlMjU3RCZhbXA7cmVxdWVzdF9pZD0xNjY5NTMxMDg5MTY3ODI0Mjg2NTkzNzkmYW1wO2Jpel9pZD0wJmFtcDt1dG1fbWVkaXVtPWRpc3RyaWJ1dGUucGNfc2VhcmNoX3Jlc3VsdC5ub25lLXRhc2stYmxvZy0yfmFsbH5zb2JhaWR1ZW5kfmRlZmF1bHQtMS0xMTM3OTUyNTUtbnVsbC1udWxsLjE0MiU1RXY2NiU1RXBjX3JhbmtfMzRfcXVlcnlyZWxldmFudDI1LDIwMSU1RXYzJTVFY29udHJvbF8xLDIxMyU1RXYyJTVFdDNfZXNxdWVyeV92MSZhbXA7dXRtX3Rlcm09Y2VudG9zJUU2JTkwJUFEJUU1JUJCJUJBcmVkaXMlRTklOUIlODYlRTclQkUlQTQmYW1wO3NwbT0xMDE4LjIyMjYuMzAwMS40MTg3&#34;&gt;Centos7 æ­å»º Redis é›†ç¾¤&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="Redis" />
        <updated>2022-11-15T11:02:41.000Z</updated>
    </entry>
    <entry>
        <id>https://cecilia.cool/2022/11/06/Database/Redis/Redis%E5%85%A5%E9%97%A8(4)-%E4%BA%8B%E5%8A%A1/</id>
        <title>Rediså…¥é—¨(4)--äº‹åŠ¡</title>
        <link rel="alternate" href="https://cecilia.cool/2022/11/06/Database/Redis/Redis%E5%85%A5%E9%97%A8(4)-%E4%BA%8B%E5%8A%A1/"/>
        <content type="html">&lt;p&gt;äº‹åŠ¡çš„æœ¬è´¨æ˜¯ä¸€ç»„å‘½ä»¤çš„é›†åˆã€‚äº‹åŠ¡æ”¯æŒä¸€æ¬¡æ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ã€‚åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ï¼Œä¼šæŒ‰ç…§é¡ºåºä¸²è¡ŒåŒ–æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„å‘½ä»¤ï¼Œå…¶ä»–å®¢æˆ·ç«¯æäº¤çš„å‘½ä»¤è¯·æ±‚ä¸ä¼šæ’å…¥åˆ°äº‹åŠ¡æ‰§è¡Œå‘½ä»¤åºåˆ—ä¸­ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç›¸å…³å‘½ä»¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç›¸å…³å‘½ä»¤&#34;&gt;#&lt;/a&gt; ç›¸å…³å‘½ä»¤&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;MULTI ã€ EXEC ã€ DISCARD å’Œ WATCH æ˜¯ Redis äº‹åŠ¡ç›¸å…³çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;multiï¼šå¼€å¯äº‹åŠ¡&lt;/li&gt;
&lt;li&gt;execï¼šæ‰§è¡Œäº‹åŠ¡&lt;/li&gt;
&lt;li&gt;discardï¼šå–æ¶ˆäº‹åŠ¡&lt;/li&gt;
&lt;li&gt;watchï¼šç›‘è§†è‹¥å¹²ä¸ª keyï¼Œäº‹åŠ¡æ‰§è¡Œå‰ï¼Œkey è¢«å…¶ä»–å‘½ä»¤ä¿®æ”¹ï¼Œåˆ™äº‹åŠ¡ä¸­æ–­ï¼ˆä¹è§‚é”ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;unwatchï¼šå–æ¶ˆç›‘è§†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é”™è¯¯å¤„ç†æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é”™è¯¯å¤„ç†æœºåˆ¶&#34;&gt;#&lt;/a&gt; é”™è¯¯å¤„ç†æœºåˆ¶&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•é”™è¯¯ï¼ˆç¼–è¯‘å™¨é”™è¯¯ï¼‰ï¼šå¼€å¯äº‹åŠ¡åï¼Œå¦‚æœæ˜¯å‘½ä»¤è¾“å…¥é”™è¯¯ä¹‹ç±»çš„ï¼Œredis ä¼šç«‹å³æç¤ºï¼Œæ­¤æ—¶è‹¥æäº¤äº‹åŠ¡å°±ä¼šå¤±è´¥ï¼Œå¹¶ä¸”äº‹åŠ¡ä¸­å…¶ä»–å‘½ä»¤æ”¹åŠ¨çš„æ•°æ®éƒ½ä¸å˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; k1 v1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; k2 v2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MULTI&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; k1 &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED		&lt;span class=&#34;token comment&#34;&gt;-- äº‹åŠ¡çŠ¶æ€ä¸‹çš„ ml è¿”å› queuedï¼Œè¡¨ç¤ºå‘½ä»¤è¿›å…¥äº‹åŠ¡é˜Ÿåˆ—&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; sets k2 &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;error&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; ERR unknown command &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;sets&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;with&lt;/span&gt; args beginning &lt;span class=&#34;token keyword&#34;&gt;with&lt;/span&gt;: &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;k2&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token identifier&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;22&lt;span class=&#34;token punctuation&#34;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;exec&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;error&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; EXECABORT &lt;span class=&#34;token keyword&#34;&gt;Transaction&lt;/span&gt; discarded because &lt;span class=&#34;token keyword&#34;&gt;of&lt;/span&gt; previous &lt;span class=&#34;token keyword&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; get k1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;v1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; get k2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;v2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;ç±»å‹é”™è¯¯ï¼ˆè¿è¡Œæ—¶é”™è¯¯ï¼‰ï¼šåœ¨è¿è¡Œæ—¶æ£€æµ‹ç±»å‹é”™è¯¯ï¼Œæœ€ç»ˆå¯¼è‡´äº‹åŠ¡æäº¤å¤±è´¥ï¼Œæ­¤æ—¶äº‹åŠ¡æ²¡æœ‰å›æ»šï¼Œè€Œæ˜¯è·³è¿‡é”™è¯¯å‘½ä»¤ç»§ç»­æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; k1 v1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; k1 v2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; MULTI&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; k1 &lt;span class=&#34;token number&#34;&gt;11&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; lpush k2 &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt;		&lt;span class=&#34;token comment&#34;&gt;-- å°† k2 å½“ä½œ list&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;QUEUED&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;EXEC&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; OK&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;error&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; WRONGTYPE Operation against a &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt; holding the wrong kind &lt;span class=&#34;token keyword&#34;&gt;of&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;value&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; get k1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;11&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; get k2&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;v2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ‰§è¡Œå¤±è´¥ï¼ˆè¿è¡Œé”™è¯¯ï¼‰åä¼šç»§ç»­æ‰§è¡Œè€Œä¸æ˜¯å›æ»šï¼Œæ˜¯ redis è€ƒè™‘åˆ°äº‹åŠ¡å‘½ä»¤æ‰§è¡Œå¤±è´¥éƒ½æ˜¯ç¨‹åºå‘˜è‡ªå·±å†™çš„ä»£ç æœ‰é—®é¢˜ï¼Œå³ä½¿å›æ»šï¼Œä¹Ÿæ— æ³•è§£å†³è¿™äº›é—®é¢˜ï¼Œç¨‹åºå‘˜æ›´åº”è¯¥ç¼–å†™æ­£ç¡®çš„å‘½ä»¤å†ä½¿ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒï¼ŒåŒæ—¶ redis å› ä¸ºæ²¡æœ‰å›æ»šï¼Œä¹Ÿä¿æŒç®€æ´ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¹è§‚é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¹è§‚é”&#34;&gt;#&lt;/a&gt; ä¹è§‚é”&lt;/h1&gt;
&lt;p&gt;watch å‘½ä»¤ä¸ºäº‹åŠ¡æä¾›äº† CAS è¡Œä¸ºï¼Œä¹‹å‰ &lt;code&gt;J.U.C&lt;/code&gt;  ç³»åˆ—æ–‡ç« ä¸­è®²çš„è®¸å¤šé”ï¼Œåˆ©ç”¨ CAS ç‰¹æ€§ä¸æ–­é‡è¯•ç›´åˆ°åŸå­ä¿®æ”¹æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ WATCH æ‰§è¡Œä¹‹åï¼Œ EXEC æ‰§è¡Œä¹‹å‰ï¼Œ æœ‰å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹äº† mykey çš„å€¼ï¼Œ é‚£ä¹ˆå½“å‰å®¢æˆ·ç«¯çš„äº‹åŠ¡å°±ä¼šå¤±è´¥ã€‚ ç¨‹åºéœ€è¦åšçš„ï¼Œ å°±æ˜¯ä¸æ–­é‡è¯•è¿™ä¸ªæ“ä½œï¼Œ ç›´åˆ°æ²¡æœ‰å‘ç”Ÿç¢°æ’ä¸ºæ­¢ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ ä¸åŒçš„å®¢æˆ·ç«¯ä¼šè®¿é—®ä¸åŒçš„é”®ï¼Œ ç¢°æ’çš„æƒ…å†µä¸€èˆ¬éƒ½å¾ˆå°‘ï¼Œ æ‰€ä»¥é€šå¸¸å¹¶ä¸éœ€è¦è¿›è¡Œé‡è¯•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;watch å®ç°ç›‘è§†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;éœ€è¦åœ¨ MULTI ä¹‹å‰ä½¿ç”¨ WATCH æ¥ç›‘æ§æŸäº›é”®å€¼å¯¹ï¼Œç„¶åä½¿ç”¨ MULTI å‘½ä»¤æ¥å¼€å¯äº‹åŠ¡ï¼Œæ‰§è¡Œå¯¹æ•°æ®ç»“æ„æ“ä½œçš„å„ç§å‘½ä»¤ï¼Œæ­¤æ—¶è¿™äº›å‘½ä»¤å…¥é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½¿ç”¨ EXEC æ‰§è¡Œäº‹åŠ¡æ—¶ï¼Œé¦–å…ˆä¼šæ¯”å¯¹ WATCH æ‰€ç›‘æ§çš„é”®å€¼å¯¹ï¼Œå¦‚æœæ²¡å‘ç”Ÿæ”¹å˜ï¼Œå®ƒä¼šæ‰§è¡Œäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„å‘½ä»¤ï¼Œæäº¤äº‹åŠ¡ï¼›å¦‚æœå‘ç”Ÿå˜åŒ–ï¼Œå°†ä¸ä¼šæ‰§è¡Œäº‹åŠ¡ä¸­çš„ä»»ä½•å‘½ä»¤ï¼ŒåŒæ—¶äº‹åŠ¡å›æ»šã€‚&lt;strong&gt;å½“ç„¶æ— è®ºæ˜¯å¦å›æ»šï¼ŒRedis éƒ½ä¼šå–æ¶ˆæ‰§è¡Œäº‹åŠ¡å‰çš„ WATCH å‘½ä»¤&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¸€äº›ç†è§£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€äº›ç†è§£&#34;&gt;#&lt;/a&gt; ä¸€äº›ç†è§£&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;redis ä¸æ”¯æŒå›æ»šï¼šredis å‘½ä»¤å› ä¸ºé”™è¯¯çš„è¯­æ³•ï¼ˆ&lt;strong&gt;è¿è¡Œæ—¶é”™è¯¯&lt;/strong&gt;ï¼‰å¤±è´¥ï¼Œç„¶åç»§ç»­æ‰§è¡Œåé¢çš„å‘½ä»¤ï¼Œredis è®¤ä¸ºè¿™äº›éƒ½æ˜¯ç¨‹åºå‘˜å¯ä»¥è‡ªå·±è§„é¿çš„ï¼Œé”™è¯¯çš„è¯­æ³•ä¹Ÿä¸åº”è¯¥æ”¾åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ‰€ä»¥ redis æ²¡æœ‰å›æ»šæœºåˆ¶ï¼Œä¿æŒç®€å•è¿…é€Ÿã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;äº‹åŠ¡ ACIDï¼šACID å°±æ˜¯åŸå­æ€§ï¼ˆatomicityï¼‰ï¼Œä¸€è‡´æ€§ï¼ˆconsistencyï¼‰ï¼Œéš”ç¦»æ€§ï¼ˆisolationï¼‰ï¼ŒæŒä¹…æ€§ï¼ˆdurabilityï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸå­æ€§ï¼šè¿è¡ŒæœŸé”™è¯¯ä¸ä¼šå›æ»šã€‚redis è®¤ä¸ºäº‹åŠ¡ä»ç„¶æ˜¯åŸå­æ€§çš„ï¼Œæ‰€æœ‰å‘½ä»¤è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œï¼Œè€Œä¸æ˜¯å®Œå…¨æˆåŠŸã€‚ä¹‹å‰è¯´äº†ï¼Œè¿è¡ŒæœŸé”™è¯¯åº”è¯¥åœ¨ç”Ÿäº§ç¯å¢ƒæœç»å‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€è‡´æ€§ï¼šäº‹åŠ¡å‘½ä»¤å¤±è´¥å¾—ä»¥å›æ»šï¼Œä¿è¯ä¸€è‡´æ€§ã€‚&lt;/li&gt;
&lt;li&gt;éš”ç¦»æ€§ï¼šå•è¿›ç¨‹å•çº¿ç¨‹æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;æŒä¹…æ€§ï¼šRDB å’Œ AOF éƒ½æ˜¯å¼‚æ­¥æ‰§è¡Œï¼ˆä¹Ÿå¯ä»¥é˜»å¡ï¼Œsave å‘½ä»¤å˜›ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‚è€ƒ&#34;&gt;#&lt;/a&gt; å‚è€ƒ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9wZGFpLnRlY2gvbWQvZGIvbm9zcWwtcmVkaXMvZGItcmVkaXMteC10cmFucy5odG1s&#34;&gt;https://pdai.tech/md/db/nosql-redis/db-redis-x-trans.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cueXVxdWUuY29tL3Fpbmdrb25neGlhZ3Vhbmcvc3ByaW5nL25rYTJ2eiMwZjIzMjQ3Yg==&#34;&gt;https://www.yuque.com/qingkongxiaguang/spring/nka2vz#0f23247b&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="Redis" />
        <updated>2022-11-06T06:21:50.000Z</updated>
    </entry>
    <entry>
        <id>https://cecilia.cool/2022/11/05/Database/Redis/Redis%E5%85%A5%E9%97%A8(3)-%E6%8C%81%E4%B9%85%E5%8C%96/</id>
        <title>Rediså…¥é—¨(3)--æŒä¹…åŒ–</title>
        <link rel="alternate" href="https://cecilia.cool/2022/11/05/Database/Redis/Redis%E5%85%A5%E9%97%A8(3)-%E6%8C%81%E4%B9%85%E5%8C%96/"/>
        <content type="html">&lt;h1 id=&#34;æŒä¹…åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æŒä¹…åŒ–&#34;&gt;#&lt;/a&gt; æŒä¹…åŒ–&lt;/h1&gt;
&lt;p&gt;Redis æ•°æ®æ”¾åœ¨å†…å­˜ä¸­æ‰€ä»¥å¿«ï¼Œ ä½†æ˜¯ä¹Ÿå®¹æ˜“ä¸¢å¤±ã€‚å¼•å‡ºä¸¤ç§æŒä¹…åŒ–æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­˜å‚¨æ•°æ®åˆ°ç¡¬ç›˜ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ä¿å­˜å­˜æ”¾æ•°æ®çš„è¿‡ç¨‹ï¼Œæ¢å¤æ•°æ®æ—¶ï¼Œåªéœ€è¦å°†è¿‡ç¨‹æ‰§è¡Œä¸€éï¼ˆæœ‰ç‚¹ redo æ—¥å¿—çš„å‘³é“ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;rdb&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb&#34;&gt;#&lt;/a&gt; RDB&lt;/h2&gt;
&lt;p&gt;å°±æ˜¯å°†æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ä¸­ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- ä¼šé˜»å¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;save&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- åˆ›å»ºè¿›ç¨‹è´Ÿè´£æŒä¹…åŒ–ï¼Œåªæœ‰ fork æ‰ä¼šé˜»å¡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;bgsave&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ‰§è¡Œåï¼Œä¼šåœ¨æœåŠ¡ç«¯ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª dump.rdb æ–‡ä»¶ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶ä¸­å°±ä¿å­˜äº†å†…å­˜ä¸­å­˜æ”¾çš„æ•°æ®ï¼Œå½“æœåŠ¡å™¨é‡å¯åï¼Œä¼šè‡ªåŠ¨åŠ è½½é‡Œé¢çš„å†…å®¹åˆ°å¯¹åº”æ•°æ®åº“ä¸­ã€‚ä¿å­˜åæˆ‘ä»¬å¯ä»¥å…³é—­æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- ä¹Ÿä¼šè§¦å‘ bgsave&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;shutdown&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®è‡ªåŠ¨ä¿å­˜åŠŸèƒ½ï¼ˆwindows ä¸‹æ˜¯ redis.windows.conf æ–‡ä»¶ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/05/c23c983682d34698.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ç¬¬ä¸€ä¸ªä¸ºä¾‹ï¼Œæ„æ€ä¸º 900 ç§’å†…æœ‰ 1 ä¸ªå†™å…¥æ—¶ï¼Œå°±ä¿å­˜ã€‚é…ç½®çš„ save ä½¿ç”¨çš„éƒ½æ˜¯ bgsave åå°æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;RDB ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œç”Ÿäº§ç¯å¢ƒä¸­å†…å­˜åŒºéƒ½æ¯”è¾ƒå¤§ï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®åŒæ­¥åˆ°ç¡¬ç›˜çš„è¿‡ç¨‹å¯èƒ½ä¼šæŒç»­æ¯”è¾ƒé•¿ï¼Œæ­¤æ—¶ Redis æœåŠ¡æ”¶åˆ°æ•°æ®å†™è¯·æ±‚å°±éœ€è¦&lt;strong&gt;ä¿è¯æ•°æ®ä¸€è‡´æ€§&lt;/strong&gt;ã€‚æ ¸å¿ƒæ€è·¯æ˜¯ Copy-on-Writeï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦ä¿è¯çš„æ˜¯ï¼Œåœ¨æŸä¸ªæ•°æ®æ‰§è¡Œå†™å…¥ç£ç›˜æ“ä½œæ—¶ï¼Œè¯¥æ•°æ®åœ¨å†…å­˜ä¸­ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ­£å¸¸çš„å¿«ç…§æ“ä½œä¸­ï¼ŒRedis ä¸»è¿›ç¨‹ä¼š fork ä¸€ä¸ªæ–°çš„å¿«ç…§è¿›ç¨‹ä¸“é—¨æ¥åšè¿™ä¸ªäº‹æƒ…ï¼Œè¿™æ ·ä¿è¯äº† Redis æœåŠ¡ä¸ä¼šåœæ­¢å¯¹å®¢æˆ·ç«¯åŒ…æ‹¬å†™è¯·æ±‚åœ¨å†…çš„ä»»ä½•å“åº”ã€‚å­è¿›ç¨‹å°±ä¸æ–­å°†å†…å­˜æ•°æ®å­˜å…¥ç£ç›˜ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»è¿›ç¨‹å¯¹äºå†…å­˜åªæœ‰&lt;strong&gt; read-only&lt;/strong&gt; æƒé™ï¼Œå½“å‘ç”Ÿå†™è¯·æ±‚æ—¶ï¼Œä¼šè§¦å‘é¡µå¼‚å¸¸ä¸­æ–­ï¼Œé™·å…¥å†…æ ¸çš„ä¸­æ–­ä¾‹ç¨‹ï¼Œæ­¤æ—¶å†…æ ¸å°±ä¼šæŠŠè§¦å‘å¼‚å¸¸çš„é¡µå¤åˆ¶ä¸€ä»½ï¼Œç„¶åå¯¹è¿™ä¸ªå¤åˆ¶çš„é¡µè¿›è¡Œä¿®æ”¹ï¼Œè€Œå­è¿›ç¨‹ç›¸åº”çš„é¡µæ²¡æœ‰å˜åŒ–ã€‚è¿™ç§å“ªä¸ªé¡µå‘ç”Ÿä¿®æ”¹å°±å¤åˆ¶å“ªä¸ªé¡µçš„æœºåˆ¶ï¼Œç»†åŒ–äº†å†…å­˜ç²’åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨è¿›è¡Œå¿«ç…§æ“ä½œçš„è¿™æ®µæ—¶é—´ï¼Œå¦‚æœå‘ç”ŸæœåŠ¡å´©æºƒæ€ä¹ˆåŠ&lt;/strong&gt;ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¾ˆç®€å•ï¼Œåœ¨æ²¡æœ‰å°†æ•°æ®å…¨éƒ¨å†™å…¥åˆ°ç£ç›˜å‰ï¼Œè¿™æ¬¡å¿«ç…§æ“ä½œéƒ½ä¸ç®—æˆåŠŸã€‚å¦‚æœå‡ºç°äº†æœåŠ¡å´©æºƒçš„æƒ…å†µï¼Œå°†ä»¥ä¸Šä¸€æ¬¡å®Œæ•´çš„ RDB å¿«ç…§æ–‡ä»¶ä½œä¸ºæ¢å¤å†…å­˜æ•°æ®çš„å‚è€ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¿«ç…§æ“ä½œè¿‡ç¨‹ä¸­ä¸èƒ½å½±å“ä¸Šä¸€æ¬¡çš„å¤‡ä»½æ•°æ®ã€‚Redis æœåŠ¡ä¼šåœ¨ç£ç›˜ä¸Šåˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶è¿›è¡Œæ•°æ®æ“ä½œï¼Œå¾…æ“ä½œæˆåŠŸåæ‰ä¼šç”¨è¿™ä¸ªä¸´æ—¶æ–‡ä»¶æ›¿æ¢æ‰ä¸Šä¸€æ¬¡çš„å¤‡ä»½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;aof&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof&#34;&gt;#&lt;/a&gt; AOF&lt;/h2&gt;
&lt;p&gt;RDB ç¼ºç‚¹åœ¨äºï¼Œå¦‚æœåœ¨è‡ªåŠ¨ä¿å­˜å‰æœåŠ¡å™¨å´©æºƒï¼Œä¾ç„¶ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚AOF å°±æ˜¯å¦ä¸€ç§æ–¹å¼ï¼Œå®ƒä¼šä»¥æ—¥å¿—çš„å½¢å¼å°†æˆ‘ä»¬æ¯æ¬¡æ‰§è¡Œçš„å‘½ä»¤éƒ½è¿›è¡Œä¿å­˜ï¼ŒæœåŠ¡å™¨é‡å¯æ—¶ä¼šå°†æ‰€æœ‰å‘½ä»¤ä¾æ¬¡æ‰§è¡Œï¼Œé€šè¿‡è¿™ç§é‡æ¼”çš„æ–¹å¼å°†æ•°æ®æ¢å¤ï¼Œè¿™æ ·å°±èƒ½å¾ˆå¥½è§£å†³å®æ—¶æ€§å­˜å‚¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ—¥å¿—çš„è®°å½•ï¼Œä¹Ÿæœ‰ä¿å­˜ç­–ç•¥å¯ä»¥é…ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;alwaysï¼šæ¯æ¬¡å†™æ“ä½œéƒ½ä¼šä¿å­˜&lt;/li&gt;
&lt;li&gt;everysecï¼šæ¯ç§’ä¿å­˜ä¸€æ¬¡ï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼Œè¿™æ ·ä¸¢å¤±æ•°æ®é™å®šåœ¨ä¸€ç§’å†…ã€‚&lt;/li&gt;
&lt;li&gt;noï¼šçœ‹ç³»ç»Ÿå¿ƒæƒ…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ³¨æ„å¾—æ”¹æˆä¹Ÿæ˜¯&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;appendonly yes&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# appendfsync always&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;appendfsync everysec&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# appendfsync no&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é‡å¯æœåŠ¡å™¨åï¼Œå¯ä»¥çœ‹åˆ°æœåŠ¡å™¨ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª &lt;code&gt;appendonly.aof&lt;/code&gt;  æ–‡ä»¶ï¼Œå­˜å‚¨çš„å°±æ˜¯æˆ‘ä»¬æ‰§è¡Œçš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;AOF çš„åŒæ­¥ç­–ç•¥æ¶‰åŠåˆ°æ“ä½œç³»ç»Ÿçš„ &lt;code&gt;write&lt;/code&gt;  å‡½æ•°å’Œ &lt;code&gt;fsync&lt;/code&gt;  å‡½æ•°ï¼Œåœ¨ã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹å¦‚æ­¤è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†æé«˜æ–‡ä»¶å†™å…¥æ•ˆç‡ï¼Œåœ¨ç°ä»£æ“ä½œç³»ç»Ÿä¸­ï¼Œå½“ç”¨æˆ·è°ƒç”¨ write å‡½æ•°ï¼Œå°†ä¸€äº›æ•°æ®å†™å…¥æ–‡ä»¶æ—¶ï¼Œæ“ä½œç³»ç»Ÿé€šå¸¸ä¼šå°†æ•°æ®æš‚å­˜åˆ°ä¸€ä¸ªå†…å­˜ç¼“å†²åŒºé‡Œï¼Œå½“ç¼“å†²åŒºçš„ç©ºé—´è¢«å¡«æ»¡æˆ–è¶…è¿‡äº†æŒ‡å®šæ—¶é™åï¼Œæ‰çœŸæ­£å°†ç¼“å†²åŒºçš„æ•°æ®å†™å…¥åˆ°ç£ç›˜é‡Œã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„æ“ä½œè™½ç„¶æé«˜äº†æ•ˆç‡ï¼Œä½†ä¹Ÿä¸ºæ•°æ®å†™å…¥å¸¦æ¥äº†å®‰å…¨é—®é¢˜ï¼šå¦‚æœè®¡ç®—æœºåœæœºï¼Œå†…å­˜ç¼“å†²åŒºä¸­çš„æ•°æ®ä¼šä¸¢å¤±ã€‚ä¸ºæ­¤ï¼Œç³»ç»Ÿæä¾›äº† fsyncã€fdatasync åŒæ­¥å‡½æ•°ï¼Œå¯ä»¥å¼ºåˆ¶æ“ä½œç³»ç»Ÿç«‹åˆ»å°†ç¼“å†²åŒºä¸­çš„æ•°æ®å†™å…¥åˆ°ç¡¬ç›˜é‡Œï¼Œä»è€Œç¡®ä¿å†™å…¥æ•°æ®çš„å®‰å…¨æ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;aofæ–‡ä»¶é‡å†™æœºåˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aofæ–‡ä»¶é‡å†™æœºåˆ¶&#34;&gt;#&lt;/a&gt; AOF æ–‡ä»¶é‡å†™æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;å¦‚æœåªæ˜¯å‚»ç“œå¼è®°å½•æ“ä½œæ—¥å¿—ã€‚æ²¡æœ‰ä»»ä½•ä¼˜åŒ–ï¼Œå°±ä¼šå¯¼è‡´ &lt;code&gt;appednonly.aof&lt;/code&gt;  å˜å¾—ååˆ†å¤§ï¼Œæ‰€ä»¥ Redis æœ‰ä¸€ä¸ª AOF é‡å†™æœºåˆ¶è¿›è¡Œä¼˜åŒ–ï¼ˆå¤šæ¡è¯­å¥å‹ç¼©ï¼‰ï¼Œåæ­£å°±æ˜¯ä¼˜åŒ–åçš„æ“ä½œå’ŒåŸæ¥çš„æ“ä½œç»“æœä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/06/634891d04771fda3.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¾“å…¥å‘½ä»¤æ‰§è¡Œé‡å†™æ“ä½œï¼š &lt;code&gt;bgrewriteaof&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;AOF é‡å†™è¿‡ç¨‹æ˜¯ç”±åå°è¿›ç¨‹ bgrewriteaof æ¥å®Œæˆçš„ã€‚ä¸»çº¿ç¨‹ fork å‡ºåå°çš„ bgrewriteaof å­è¿›ç¨‹ï¼Œfork ä¼šæŠŠä¸»çº¿ç¨‹çš„å†…å­˜æ‹·è´ä¸€ä»½ç»™ bgrewriteaof å­è¿›ç¨‹ï¼Œè¿™é‡Œé¢å°±åŒ…å«äº†æ•°æ®åº“çš„æœ€æ–°æ•°æ®ã€‚ç„¶åï¼Œbgrewriteaof å­è¿›ç¨‹å°±å¯ä»¥åœ¨ä¸å½±å“ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œé€ä¸€æŠŠæ‹·è´çš„æ•°æ®å†™æˆæ“ä½œï¼Œè®°å…¥é‡å†™æ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ aof åœ¨é‡å†™æ—¶ï¼Œåœ¨ fork è¿›ç¨‹æ—¶æ˜¯ä¼šé˜»å¡ä½ä¸»çº¿ç¨‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ–è€…é…ç½®æ–‡ä»¶é…ç½®è‡ªåŠ¨é‡å†™ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ç™¾åˆ†æ¯”è®¡ç®—ï¼Œå½“å‰ aof æ–‡ä»¶æ¯”ä¸Šä¸€æ¬¡é‡å†™å aof æ–‡ä»¶çš„å¢é‡å¤§å°ï¼Œå’Œä¸Šä¸€æ¬¡é‡å†™å aof æ–‡ä»¶å¤§å°çš„æ¯”å€¼ã€‚&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;auto&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;aof&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;rewrite&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;percentage &lt;span class=&#34;token number&#34;&gt;100&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å½“è¾¾åˆ°è¿™ä¸ªå¤§å°æ—¶ï¼Œè§¦å‘è‡ªåŠ¨é‡å†™&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;auto&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;aof&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;rewrite&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;min&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;size &lt;span class=&#34;token number&#34;&gt;64&lt;/span&gt;mb&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¦‚ä½•åœ¨é‡å†™æ—¶ï¼Œå¤„ç†å†™è¯·æ±‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/06/0f71177930cf5ed9.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰æ–°æ•°æ®å†™å…¥ï¼Œä¸»çº¿ç¨‹å°±ä¼šå°†å‘½ä»¤è®°å½•åˆ°ä¸¤ä¸ª aof æ—¥å¿—å†…å­˜ç¼“å†²åŒºä¸­ã€‚å¦‚æœ AOF å†™å›ç­–ç•¥é…ç½®çš„æ˜¯ alwaysï¼Œåˆ™ç›´æ¥å°†å‘½ä»¤å†™å›æ—§çš„æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶ä¸”ä¿å­˜ä¸€ä»½å‘½ä»¤è‡³ AOF é‡å†™ç¼“å†²åŒºï¼Œè¿™äº›æ“ä½œå¯¹æ–°çš„æ—¥å¿—æ–‡ä»¶æ˜¯ä¸å­˜åœ¨å½±å“çš„ã€‚ï¼ˆæ—§çš„æ—¥å¿—æ–‡ä»¶ï¼šä¸»çº¿ç¨‹ä½¿ç”¨çš„æ—¥å¿—æ–‡ä»¶ï¼Œæ–°çš„æ—¥å¿—æ–‡ä»¶ï¼šbgrewriteaof è¿›ç¨‹ä½¿ç”¨çš„æ—¥å¿—æ–‡ä»¶ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»çº¿ç¨‹ fork å‡ºå­è¿›ç¨‹é‡å†™ aof æ—¥å¿—&lt;/li&gt;
&lt;li&gt;å­è¿›ç¨‹é‡å†™æ—¥å¿—å®Œæˆåï¼Œä¸»çº¿ç¨‹è¿½åŠ  aof æ—¥å¿—ç¼“å†²&lt;/li&gt;
&lt;li&gt;æ›¿æ¢æ—¥å¿—æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‚è€ƒ&#34;&gt;#&lt;/a&gt; å‚è€ƒ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cueXVxdWUuY29tL3Fpbmdrb25neGlhZ3Vhbmcvc3ByaW5nL25rYTJ2eiNSREI=&#34;&gt;https://www.yuque.com/qingkongxiaguang/spring/nka2vz#RDB&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9wZGFpLnRlY2gvbWQvZGIvbm9zcWwtcmVkaXMvZGItcmVkaXMteC1yZGItYW9mLmh0bWw=&#34;&gt;https://pdai.tech/md/db/nosql-redis/db-redis-x-rdb-aof.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9uaW5nZy50b3AvY29tcHV0ZXItYmFzaWMtdGhlb3J5LWNvcHktb24td3JpdGUv&#34;&gt;https://ningg.top/computer-basic-theory-copy-on-write/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L011c2NsZWFwZS9hcnRpY2xlL2RldGFpbHMvMTA1NjcwNDgx&#34;&gt;https://blog.csdn.net/Muscleape/article/details/105670481&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20veWJ5bi9wLzE0MTU3NTY4Lmh0bWw=&#34;&gt;https://www.cnblogs.com/ybyn/p/14157568.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAxNTk4MzUxOA==&#34;&gt;https://segmentfault.com/a/1190000015983518&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDM0NjEyL2FydGljbGUvZGV0YWlscy8xMDg3OTE0Mzc=&#34;&gt;https://blog.csdn.net/qq_41434612/article/details/108791437&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vbGlhbmcyNC9wLzE0MTgwMDM2Lmh0bWw=&#34;&gt;https://www.cnblogs.com/liang24/p/14180036.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9kM2JhN2I4YWQ5NjQ=&#34;&gt;https://www.jianshu.com/p/d3ba7b8ad964&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpdXBlaWZlbmczNTE0L2FydGljbGUvZGV0YWlscy83OTA0ODc2Nw==&#34;&gt;https://blog.csdn.net/liupeifeng3514/article/details/79048767&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æå®¢æ—¶é—´ ã€ŠRedis æ ¸å¿ƒä¸å®æˆ˜ã€‹çš„ç›¸å…³å†…å®¹&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="Redis" />
        <updated>2022-11-05T09:13:37.000Z</updated>
    </entry>
    <entry>
        <id>https://cecilia.cool/2022/11/05/Database/Redis/Redis%E5%85%A5%E9%97%A8(2)-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</id>
        <title>Rediså…¥é—¨(2)--æ•°æ®ç±»å‹</title>
        <link rel="alternate" href="https://cecilia.cool/2022/11/05/Database/Redis/Redis%E5%85%A5%E9%97%A8(2)-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
        <content type="html">&lt;h1 id=&#34;æ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; æ•°æ®ç±»å‹&lt;/h1&gt;
&lt;p&gt;åœ¨ &lt;code&gt;redis&lt;/code&gt;  ä¸­ï¼Œæ‰€æœ‰ &lt;code&gt;key&lt;/code&gt;  éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè®¨è®ºæ•°æ®ç»“æ„æ—¶ï¼Œéƒ½æ˜¯å­˜å‚¨å€¼çš„æ•°æ®ç±»å‹ï¼Œå¸¸è§çš„åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stringï¼šå­—ç¬¦ä¸²ã€æ•´æ•°æˆ–æµ®ç‚¹æ•°ã€‚å¯¹æ•´ä¸ªå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†è¿›è¡Œæ“ä½œï¼›å¯¹æ•´æ•°æˆ–æµ®ç‚¹æ•°è¿›è¡Œè‡ªå¢æˆ–è‡ªå‡æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;Listï¼šå¯¹é“¾è¡¨çš„ä¸¤ç«¯è¿›è¡Œ push å’Œ pop æ“ä½œï¼Œè¯»å–å•ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼›æ ¹æ®å€¼æŸ¥æ‰¾æˆ–åˆ é™¤å…ƒç´ ï¼›&lt;/li&gt;
&lt;li&gt;Setï¼šå­—ç¬¦ä¸²çš„é›†åˆï¼ŒåŒ…å«åŸºç¡€çš„æ–¹æ³•æœ‰çœ‹æ˜¯å¦å­˜åœ¨æ·»åŠ ã€è·å–ã€åˆ é™¤ï¼›è¿˜åŒ…å«è®¡ç®—äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;Zsetï¼šå­—ç¬¦ä¸²æˆå‘˜ä¸æµ®ç‚¹æ•°åˆ†æ•°ä¹‹é—´çš„æœ‰åºæ˜ å°„ï¼›å…ƒç´ çš„æ’åˆ—é¡ºåºç”±åˆ†æ•°çš„å¤§å°å†³å®šï¼›åŒ…å«æ–¹æ³•æœ‰æ·»åŠ ã€è·å–ã€åˆ é™¤å•ä¸ªå…ƒç´ ä»¥åŠæ ¹æ®åˆ†å€¼èŒƒå›´æˆ–æˆå‘˜æ¥è·å–å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;Hashï¼šæ·»åŠ ã€è·å–ã€åˆ é™¤å•ä¸ªå…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å…³äºé›†åˆçš„å‘½ä»¤ï¼Œæœ‰å•¥æƒ³ä¸èµ·å°±å»æœã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;string&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#string&#34;&gt;#&lt;/a&gt; String&lt;/h2&gt;
&lt;p&gt;è®°ä½ä¸Šä¸€ç¯‡æ–‡ç« è®²çš„å‡ ä¸ªå‘½ä»¤å³å¯ï¼š &lt;code&gt;get,set,del,incr,decr,incrby,decrby&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h2 id=&#34;list&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#list&#34;&gt;#&lt;/a&gt; List&lt;/h2&gt;
&lt;p&gt;å¯ä»¥å®ç°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå°†ä»»åŠ¡å­˜ &lt;code&gt;PUSH&lt;/code&gt;  åœ¨ List ä¸­ï¼Œå·¥ä½œçº¿ç¨‹å† &lt;code&gt;POP&lt;/code&gt;  æ“ä½œå°†ä»»åŠ¡å–å‡ºæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/05/e621c88a8c58d5a8.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤è¾¹éƒ½å¯ä»¥å¢åˆ èŠ‚ç‚¹ï¼Œå¯¹åº”æ–¹æ³•å°±æ˜¯ &lt;code&gt;L/RPUSH&lt;/code&gt;  å’Œ &lt;code&gt;L/RPOP&lt;/code&gt; ï¼Œå…·ä½“ä½¿ç”¨ä¸ºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; lpush mylist &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt; ll ls mem&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;integer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; lrange mylist &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;	&lt;span class=&#34;token comment&#34;&gt;-- lrange è·å–åˆ—è¡¨æ‰€æœ‰å€¼&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mem&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;ls&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;ll&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;2&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; lindex mylist &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;	&lt;span class=&#34;token comment&#34;&gt;-- lindex æ ¹æ®ç´¢å¼•è·å–å…ƒç´  (0 å¼€å§‹)ï¼Œè´Ÿæ•°ä¹Ÿå¯ä»¥ï¼Œ-1 è¡¨ç¤ºæœ€åä¸€ä¸ª&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#34;1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; lindex mylist &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;        &lt;span class=&#34;token comment&#34;&gt;-- index ä¸åœ¨ mylist çš„åŒºé—´èŒƒå›´å†…&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;nil&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿˜æœ‰ä¸€äº›éªšæ“ä½œï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- ä»å‰ä¸€ä¸ªæ•°ç»„çš„æœ€åå–ä¸€ä¸ªæ•°å‡ºæ¥æ”¾åˆ°å¦ä¸€ä¸ªæ•°ç»„çš„å¤´éƒ¨ï¼Œå¹¶è¿”å›å…ƒç´ &lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;rpoplpush å½“å‰æ•°ç»„ ç›®æ ‡æ•°ç»„&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- å¦‚æœåˆ—è¡¨ä¸­æ²¡æœ‰å…ƒç´ ï¼Œé‚£ä¹ˆå°±ç­‰å¾…ï¼Œå¦‚æœæŒ‡å®šæ—¶é—´ï¼ˆç§’ï¼‰å†…è¢«æ·»åŠ äº†æ•°æ®ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œ pop æ“ä½œï¼Œå¦‚æœè¶…æ—¶å°±ä½œåºŸï¼Œæ”¯æŒåŒæ—¶ç­‰å¾…å¤šä¸ªåˆ—è¡¨ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªåˆ—è¡¨æœ‰å…ƒç´ äº†ï¼Œé‚£ä¹ˆå°±èƒ½æ‰§è¡Œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;blpop &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt; timeout&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;set&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#set&#34;&gt;#&lt;/a&gt; Set&lt;/h2&gt;
&lt;p&gt;ä¸åŒå…ƒç´ æ— åºæ’åˆ—ï¼Œç›´æ¥çœ‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; sadd myset hao hao1 xiaohao hao	&lt;span class=&#34;token comment&#34;&gt;-- sadd æ·»åŠ è‹¥å¹²ä¸ªæˆå‘˜&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;integer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; smembers myset	&lt;span class=&#34;token comment&#34;&gt;-- è¿”å›æ‰€æœ‰æˆå‘˜&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;xiaohao&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;hao1&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;hao&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;.1&lt;/span&gt;:&lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; sismember myset hao	&lt;span class=&#34;token comment&#34;&gt;-- åˆ¤æ–­é›†åˆ myset æ˜¯å¦æœ‰é›†åˆ hao æˆå‘˜&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;integer&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- éšæœºç§»é™¤ä¸€ä¸ªå¹¸è¿å„¿&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;spop &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- ç§»é™¤æŒ‡å®š&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;srem &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é›†åˆä¹‹é—´çš„è¿ç®—ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- é›†åˆä¹‹é—´çš„å·®é›†&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sdiff &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key1&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key2&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- é›†åˆä¹‹é—´çš„äº¤é›†&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sinter &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key1&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key2&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- æ±‚å¹¶é›†&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sunion &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key1&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key2&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- å°†é›†åˆä¹‹é—´çš„å·®é›†å­˜åˆ°ç›®æ ‡é›†åˆä¸­&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sdiffstore ç›®æ ‡ &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key1&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key2&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- åŒä¸Š&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sinterstore ç›®æ ‡ &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key1&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key2&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- åŒä¸Š&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;sunionstore ç›®æ ‡ &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key1&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;key2&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- ç§»åŠ¨æŒ‡å®šå€¼åˆ°å¦ä¸€ä¸ªé›†åˆä¸­&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;smove &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; ç›®æ ‡ &lt;span class=&#34;token keyword&#34;&gt;value&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;hash&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hash&#34;&gt;#&lt;/a&gt; Hash&lt;/h2&gt;
&lt;p&gt;string ç±»å‹çš„ fieldï¼ˆå­—æ®µï¼‰ å’Œ valueï¼ˆå€¼ï¼‰ çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.bmp.ovh/imgs/2022/11/05/25fd082b2f3cc590.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾æ•£åˆ—è¡¨åæ˜¯ userï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ ï¼š &lt;code&gt;hset user key1 val1&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;è·å–å€¼ï¼š &lt;code&gt;hget user key1&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;è·å–æ‰€æœ‰é”®å€¼å¯¹ï¼š &lt;code&gt;hgetall user&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;ç§»å‡ºé”®ï¼š &lt;code&gt;hdel user key&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;zset&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#zset&#34;&gt;#&lt;/a&gt; Zset&lt;/h2&gt;
&lt;p&gt;æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ª double ç±»å‹çš„åˆ†æ•°ã€‚redis æ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚&lt;/p&gt;
&lt;p&gt;æœ‰åºé›†åˆæ˜¯é€šè¿‡ä¸¤ç§æ•°æ®ç»“æ„å®ç°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å‹ç¼©åˆ—è¡¨ (ziplist)&lt;/strong&gt;: ziplist æ˜¯ä¸ºäº†æé«˜å­˜å‚¨æ•ˆç‡è€Œè®¾è®¡çš„ä¸€ç§ç‰¹æ®Šç¼–ç çš„åŒå‘é“¾è¡¨ã€‚å®ƒå¯ä»¥å­˜å‚¨å­—ç¬¦ä¸²æˆ–è€…æ•´æ•°ï¼Œå­˜å‚¨æ•´æ•°æ—¶æ˜¯é‡‡ç”¨æ•´æ•°çš„äºŒè¿›åˆ¶è€Œä¸æ˜¯å­—ç¬¦ä¸²å½¢å¼å­˜å‚¨ã€‚å®ƒèƒ½åœ¨ O (1) çš„æ—¶é—´å¤æ‚åº¦ä¸‹å®Œæˆ list ä¸¤ç«¯çš„ push å’Œ pop æ“ä½œã€‚ä½†æ˜¯å› ä¸º&lt;strong&gt;æ¯æ¬¡æ“ä½œéƒ½éœ€è¦é‡æ–°åˆ†é… ziplist çš„å†…å­˜&lt;/strong&gt;ï¼Œæ‰€ä»¥å®é™…å¤æ‚åº¦å’Œ ziplist çš„å†…å­˜ä½¿ç”¨é‡ç›¸å…³&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·³è·ƒè¡¨ï¼ˆzSkiplist)&lt;/strong&gt;: è·³è·ƒè¡¨çš„æ€§èƒ½å¯ä»¥ä¿è¯åœ¨æŸ¥æ‰¾ï¼Œåˆ é™¤ï¼Œæ·»åŠ ç­‰æ“ä½œçš„æ—¶å€™åœ¨å¯¹æ•°æœŸæœ›æ—¶é—´å†…å®Œæˆï¼Œè¿™ä¸ªæ€§èƒ½æ˜¯å¯ä»¥å’Œå¹³è¡¡æ ‘æ¥ç›¸æ¯”è¾ƒçš„ï¼Œè€Œä¸”åœ¨å®ç°æ–¹é¢æ¯”å¹³è¡¡æ ‘è¦ä¼˜é›…ï¼Œè¿™æ˜¯é‡‡ç”¨è·³è·ƒè¡¨çš„ä¸»è¦åŸå› ã€‚è·³è·ƒè¡¨çš„å¤æ‚åº¦æ˜¯ O (log (n))ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›¸å…³å‘½ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ ï¼š &lt;code&gt;zadd table key1 val1 score&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;è·å–ï¼š &lt;code&gt;zrange table key1 &lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;åˆ é™¤ï¼š &lt;code&gt;zrem table key1 &lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› ä¸ºéƒ½æœ‰ä¸€ä¸ªåˆ†æ•°å€¼ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®åˆ†æ•°å€¼æ“ä½œï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- é€šè¿‡åˆ†æ•°æ®µæŸ¥çœ‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;zrangebyscore &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;start&lt;/span&gt; stop &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;withscores&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;limit&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- ç»Ÿè®¡åˆ†æ•°æ®µå†…çš„æ•°é‡&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;zcount &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;  &lt;span class=&#34;token keyword&#34;&gt;start&lt;/span&gt; stop&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;-- æ ¹æ®åˆ†æ•°è·å–æŒ‡å®šå€¼çš„æ’å&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;zrank &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‚è€ƒ&#34;&gt;#&lt;/a&gt; å‚è€ƒ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9wZGFpLnRlY2gvbWQvZGIvbm9zcWwtcmVkaXMvZGItcmVkaXMtZGF0YS10eXBlcy5odG1s&#34;&gt;https://pdai.tech/md/db/nosql-redis/db-redis-data-types.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cueXVxdWUuY29tL3Fpbmdrb25neGlhZ3Vhbmcvc3ByaW5nL25rYTJ2eiNMaXN0&#34;&gt;https://www.yuque.com/qingkongxiaguang/spring/nka2vz#List&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="Redis" />
        <updated>2022-11-04T16:39:36.000Z</updated>
    </entry>
    <entry>
        <id>https://cecilia.cool/2022/11/03/Database/Redis/Redis%E5%85%A5%E9%97%A8(1)-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%93%8D%E4%BD%9C/</id>
        <title>Rediså…¥é—¨(1)--å®‰è£…ä¸æ“ä½œ</title>
        <link rel="alternate" href="https://cecilia.cool/2022/11/03/Database/Redis/Redis%E5%85%A5%E9%97%A8(1)-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%93%8D%E4%BD%9C/"/>
        <content type="html">&lt;h1 id=&#34;å®‰è£…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…&#34;&gt;#&lt;/a&gt; å®‰è£…&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;å®˜ç½‘æä¾›çš„æ˜¯ Mac å’Œ Linux çš„å®‰è£…åŒ…ï¼Œå¹¶æ²¡æœ‰ windows çš„ï¼Œä½†æ˜¯ &lt;code&gt;github&lt;/code&gt;  æœ‰ç›¸å…³çš„å¼€æºé¡¹ç›®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¼€æºåœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3Rwb3JhZG93c2tpL3JlZGlzL3JlbGVhc2Vz&#34;&gt;https://github.com/tporadowski/redis/releases&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ç›´æ¥ä¸‹è½½ &lt;code&gt;zip&lt;/code&gt;  å®‰è£…åŒ…å°±è¡Œäº†ï¼Œç„¶åè¿è¡ŒæœåŠ¡ç«¯æ‰“å¼€&lt;strong&gt; redis-server.exe&lt;/strong&gt; æ–‡ä»¶å³å¯ã€‚å®¢æˆ·ç«¯æ‰“å¼€&lt;strong&gt; redis-cli.exe&lt;/strong&gt; å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå®¢æˆ·ç«¯æƒ³è¦ä½¿ç”¨æœ¬åœ° cmdï¼Œåˆ™åœ¨ &lt;code&gt;redis&lt;/code&gt;  æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š &lt;code&gt;redis-cli.exe -h localhost&lt;/code&gt; ã€‚é»˜è®¤æ˜¯ 6379 ç«¯å£ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³è¦è¿œç¨‹è®¿é—®ï¼Œå°±éœ€è¦å°† &lt;code&gt;redis.windows.conf&lt;/code&gt;  çš„ bind æ³¨é‡Šæ‰ï¼Œ &lt;code&gt;protected-mode&lt;/code&gt;  è®¾ä¸º &lt;code&gt;no&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;Linux (ubuntu) ä¸‹è½½ Redisï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; redis-server&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹æœåŠ¡ï¼ŒæŒ‰ q é€€å‡º&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl status redis-server&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;å¯ä»¥è¿œç¨‹è®¿é—® Redisï¼Œä½†æ˜¯éœ€è¦é…ç½®ä¸€ä¸‹ &lt;code&gt;/etc/redis.conf&lt;/code&gt;  æ–‡ä»¶ï¼Œå®šä½åˆ° &lt;code&gt;bind 0.0.0.0 ::1&lt;/code&gt; ï¼Œå–æ¶ˆè¿™è¡Œçš„æ³¨é‡Šï¼Œä¿å­˜é€€å‡ºï¼Œé‡å¯ Redis æœåŠ¡ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl restart redis-server&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;é…ç½®é˜²ç«å¢™ï¼Œå…è®¸ç½‘ç»œæµé‡é€šè¿‡ TCP ç«¯å£ &lt;code&gt;6379&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸ä½ æƒ³è¦å…è®¸ä»ä¸€ä¸ªæŒ‡å®š IP åœ°å€æˆ–è€…ä¸€ä¸ªæŒ‡å®š IP èŒƒå›´æ¥è®¿é—® Redis æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œæƒ³è¦å…è®¸ä» &lt;code&gt;192.168.121.0/24&lt;/code&gt;  çš„è¿æ¥ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ufw allow proto tcp from &lt;span class=&#34;token number&#34;&gt;192.168&lt;/span&gt;.121.0/24 to any port &lt;span class=&#34;token number&#34;&gt;6379&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æ­¤æ—¶ï¼Œä½ åº”è¯¥å¯ä»¥ä»è¿œç¨‹ä½ç½®é€šè¿‡ TCP è¿æ¥åˆ° Redis çš„ 6379 ç«¯å£ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è¦éªŒè¯æ‰€æœ‰è®¾ç½®éƒ½è®¾ç½®å¥½äº†ï¼Œä½ å¯ä»¥å°è¯•ä½¿ç”¨ &lt;code&gt;redis-cli&lt;/code&gt;  ä»ä½ çš„è¿œç¨‹æœºå™¨ä¸Š ping ä¸€ä¸‹ Redis æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;redis-cli &lt;span class=&#34;token parameter variable&#34;&gt;-h&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;REDIS_IP_ADDRESS&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ping&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;è¿™ä¸ªå‘½ä»¤å°†ä¼šè¿”å›ä¸€ä¸ªå“åº”ï¼š &lt;code&gt;PONG&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;PONG&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;ä½¿ç”¨ï¼š &lt;code&gt;redis-server&amp;amp;&lt;/code&gt;  ç½®å…¥åå°ï¼Œä½¿ç”¨ ctrl+c ä¸ä¼šå…³é—­ redisï¼Œç„¶åå†æ‰§è¡Œ &lt;code&gt;redis-cli&lt;/code&gt;  æ‰“å¼€å®¢æˆ·ç«¯å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å…³äº redis å¯è§†åŒ–å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨ Redis Viewï¼Œæˆ‘æŠŠå®‰è£…åŒ…æ”¾åœ¨&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYWxpeXVuZHJpdmUuY29tL3MveU0xaVBrSkFXZHY=&#34;&gt;é˜¿é‡Œäº‘ç›˜&lt;/span&gt;äº†ã€‚&lt;/p&gt;
&lt;h1 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt; åº”ç”¨åœºæ™¯&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;çƒ­ç‚¹æ•°æ®çš„ç¼“å­˜ï¼šä½œä¸ºç¼“å­˜ä½¿ç”¨ï¼Œä¿å­˜æ•°æ®çš„æ–¹å¼ä¸€èˆ¬æ˜¯ä¸¤ç§ï¼Œè¯»å–æ•°æ®å‰å…ˆè¯»å– Redisï¼Œæ¬¡çº§æ˜¯æ•°æ®åº“ï¼Œå¹¶å°†æ•°æ®æ‹‰å…¥ Redisï¼ˆå¯èƒ½ä¼šç¼“å­˜å‡»ç©¿ï¼‰ï¼›æ’å…¥æ•°æ®æ—¶åŒæ—¶å†™å…¥ Redisã€‚&lt;/li&gt;
&lt;li&gt;é™æ—¶ä¸šåŠ¡ï¼šæ¯”å¦‚éªŒè¯ç æ ¡éªŒï¼Œ60s å†…æœ‰æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;è®¡æ•°å™¨ï¼šredis çš„ incrby åŸå­é€’å¢ï¼Œå¯ä»¥è¿ç”¨äºé«˜å¹¶å‘ç§’æ€&lt;/li&gt;
&lt;li&gt;å¥½å‹å…³ç³»å­˜å‚¨ï¼šåœ¨å¾®åšåº”ç”¨ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·å…³æ³¨çš„äººå­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œå°±å¾ˆå®¹æ˜“å®ç°æ±‚ä¸¤ä¸ªäººçš„å…±åŒå¥½å‹åŠŸèƒ½ã€‚Redis åˆ©ç”¨é›†åˆçš„ä¸€äº›å‘½ä»¤ï¼Œæ¯”å¦‚æ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;ç®€å•é˜Ÿåˆ—ï¼šç”±äº Redis æœ‰ list push å’Œ list pop è¿™æ ·çš„å‘½ä»¤ï¼Œæ‰€ä»¥èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„æ‰§è¡Œé˜Ÿåˆ—æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;åŸºæœ¬ä½¿ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŸºæœ¬ä½¿ç”¨&#34;&gt;#&lt;/a&gt; åŸºæœ¬ä½¿ç”¨&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  æ˜¯ä¸€ä¸ªé”®å€¼æ•°æ®åº“ï¼Œå› æ­¤ï¼Œå¯ä»¥åƒ &lt;code&gt;Map&lt;/code&gt;  ä¸€æ ·çš„æ“ä½œæ–¹å¼ï¼Œé€šè¿‡é”®å€¼å¯¹å‘ &lt;code&gt;Redis&lt;/code&gt;  æ•°æ®åº“ä¸­æ·»åŠ æ•°æ®ï¼ˆæ“ä½œèµ·æ¥ç±»ä¼¼äºå‘ä¸€ä¸ª &lt;code&gt;HashMap&lt;/code&gt;  ä¸­å­˜æ”¾æ•°æ®ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ‰“å¼€å®¢æˆ·ç«¯æˆ–è€…ä½¿ç”¨ cmd è¿æ¥åˆ°æœåŠ¡ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;redis çš„æ•°æ®åº“ç”±æ•´æ•°ç´¢å¼•æ ‡è¯†ï¼ˆè€Œä¸æ˜¯åç§°ï¼‰ï¼Œé»˜è®¤è¿æ¥åˆ° redis ä½¿ç”¨ 0 å·æ•°æ®åº“ï¼Œé»˜è®¤ 16 ä¸ªæ•°æ®åº“ï¼ˆå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹æ•°æ®åº“æ€»æ•°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å…³å‘½ä»¤æ“ä½œï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åˆ‡æ¢æ•°æ®åº“&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; åºå·&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ·»åŠ  / ä¿®æ”¹æ•°æ®ï¼›æ·»åŠ å¤šä¸ªæ•°æ®ï¼šmset key1 value1 key2 value2..&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;value&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è·å–æ•°æ®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;get &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# åˆ é™¤æ•°æ®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;del &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# è®¾ç½®æ•°æ®è¿‡æœŸæ—¶é—´ï¼Œè‡ªåŠ¨åˆ é™¤&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;value&lt;/span&gt; EX ç§’&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;value&lt;/span&gt; PX æ¯«ç§’&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä¸ºå•ç‹¬çš„é”®è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè½¬ä¸ºæ°¸ä¹…å°±æ˜¯ persist key&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;expire &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt; ç§’&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥è¯¢è¿‡æœŸæ—¶é—´å‰©ä½™ æ¯«ç§’å°±æ˜¯ pttl&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ttl &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥è¯¢æ‰€æœ‰é”®å€¼&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;keys&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸä¸ªé”®æ˜¯å¦å­˜åœ¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;exists&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# éšæœºæ‹¿ä¸€ä¸ªé”®&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;randomkey&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æ•°æ®åº“å†…å®¹è¿ç§»&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;move &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt; æ•°æ®åº“åºå·&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# ä¿®æ”¹é”®å renamex ä¼šæ£€æŸ¥æ–°åç§°æ˜¯å¦å­˜åœ¨&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;rename&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt; æ–°çš„é”®å&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# å­˜æ”¾çš„æ•°æ®æ˜¯æ•°å­—ï¼Œè‡ªå¢è‡ªå‡æ“ä½œ&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;incr &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;	&lt;span class=&#34;token comment&#34;&gt;# a++&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;incrby &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt; b	&lt;span class=&#34;token comment&#34;&gt;# a = a+b&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;decr &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;	&lt;span class=&#34;token comment&#34;&gt;# a--&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# æŸ¥çœ‹æ•°æ®ç±»å‹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;44&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;key&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‚è€ƒ&#34;&gt;#&lt;/a&gt; å‚è€ƒ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9wZGFpLnRlY2gvbWQvZGIvbm9zcWwtcmVkaXMvZGItcmVkaXMtaW50cm9kdWNlLmh0bWw=&#34;&gt;https://pdai.tech/md/db/nosql-redis/db-redis-introduce.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cueXVxdWUuY29tL3Fpbmdrb25neGlhZ3Vhbmcvc3ByaW5nL25rYTJ2eg==&#34;&gt;https://www.yuque.com/qingkongxiaguang/spring/nka2vz&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNjM5NjU4&#34;&gt;https://cloud.tencent.com/developer/article/1639658&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="Redis" />
        <updated>2022-11-03T02:57:36.000Z</updated>
    </entry>
</feed>
