{
    "version": "https://jsonfeed.org/version/1",
    "title": "æ…•é’ã®è¿·é€” â€¢ All posts by \"æ•°æ®ç»“æ„ä¸ç®—æ³•\" tag",
    "description": "æ—¶é›¨ç—…é‡ç—‡æ‚£è€…ï¼ï¼ï¼",
    "home_page_url": "https://cecilia.cool",
    "items": [
        {
            "id": "https://cecilia.cool/2022/11/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/",
            "url": "https://cecilia.cool/2022/11/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/",
            "title": "å­—ç¬¦ä¸²å“ˆå¸Œ",
            "date_published": "2022-11-22T10:16:33.000Z",
            "content_html": "<h1 id=\"å­—ç¬¦ä¸²å“ˆå¸Œ\"><a class=\"anchor\" href=\"#å­—ç¬¦ä¸²å“ˆå¸Œ\">#</a> å­—ç¬¦ä¸²å“ˆå¸Œ</h1>\n<p>ä¾‹å­ä¸º<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yZXBlYXRlZC1kbmEtc2VxdWVuY2VzLw==\"> LeetCode 187. é‡å¤çš„ DNA åºåˆ—</span></p>\n<p>DNA åºåˆ— ç”±ä¸€ç³»åˆ—æ ¸è‹·é…¸ç»„æˆï¼Œç¼©å†™ä¸º 'A', 'C', 'G' å’Œ 'T'.ã€‚</p>\n<p>ä¾‹å¦‚ï¼Œ&quot;ACGAATTCCG&quot; æ˜¯ä¸€ä¸ª DNA åºåˆ— ã€‚<br />\nåœ¨ç ”ç©¶ DNA æ—¶ï¼Œè¯†åˆ« DNA ä¸­çš„é‡å¤åºåˆ—éå¸¸æœ‰ç”¨ã€‚</p>\n<p>ç»™å®šä¸€ä¸ªè¡¨ç¤º DNA åºåˆ— çš„å­—ç¬¦ä¸² s ï¼Œè¿”å›æ‰€æœ‰åœ¨ DNA åˆ†å­ä¸­å‡ºç°ä¸æ­¢ä¸€æ¬¡çš„ é•¿åº¦ä¸º 10 çš„åºåˆ— (å­å­—ç¬¦ä¸²)ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚</p>\n<p><strong>å¸¸è§„è§£æ³•</strong></p>\n<p>æœ¬é¢˜é™åˆ¶æ—¶é—´çš„æ“ä½œå°±æ˜¯æ‹¿åˆ°ä¸€ä¸ªé•¿åº¦ä¸º 10 çš„å­—ç¬¦ä¸²ï¼Œå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°åŸå­—ç¬¦ä¸²æ˜¯å¦å‡ºç°è¿‡ç›¸åŒçš„å­—ç¬¦ä¸²ã€‚å¸¸è§„è§£æ³•å°±æ˜¯å°†éå†è¿‡çš„æ¯ä¸ªå­—ç¬¦ä¸²éƒ½æ”¾åˆ°å“ˆå¸Œè¡¨é‡Œé¢ï¼Œç„¶å O (1) æ—¶é—´å¤æ‚åº¦æŸ¥æ‰¾æ˜¯å¦å‡ºç°ç›¸åŒçš„å­—ç¬¦ä¸²ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findRepeatedDnaSequences</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token class-name\">String</span> tmp <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span>i<span class=\"token operator\">+</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token keyword\">int</span> t <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getOrDefault</span><span class=\"token punctuation\">(</span>tmp<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>tmp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>tmp<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">+</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿™æ˜¯åŸºäºå­ä¸²é•¿åº¦è¾ƒä½æ‰å¯ä»¥ä½¿ç”¨ï¼Œå¦‚æœå­ä¸²é•¿åº¦å¾ˆå¤§ï¼Œå…‰æ˜¯ç”Ÿæˆå­ä¸²çš„æ“ä½œå¤æ‚åº¦å°±å¾ˆé«˜ã€‚</p>\n<p>å¦‚ä½•ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè®¡ç®—å…¶å­ä¸²çš„å“ˆå¸Œå€¼ï¼š</p>\n<p>åŸç†æ˜¯ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¦æŠŠå®ƒè½¬æ¢ä¸ºæ•°å­—ï¼Œå…ˆæŠŠæ¯ä¸ªå­—ç¬¦éƒ½å…ˆå¯¹åº”ä¸€ä¸ªæ•°å­—ï¼Œç„¶åæŒ‰ç¬¬ <code>i</code>  ä¸ªå­—ç¬¦ä¹˜ä»¥ä¸€ä¸ªè¿›åˆ¶ P çš„ <code>i</code>  æ¬¡æ–¹ï¼Œå†ç›¸åŠ ï¼Œè¿™ä¸ªæ•°ä¹Ÿè®¸å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šå–æ¨¡ã€‚</p>\n<p>ä¸ºä»€ä¹ˆä¼šå’Œè¿›åˆ¶æ‰¯ä¸Šå…³ç³»ï¼š</p>\n<p>æˆ‘ä»¬ç±»æ¯”æ¨ç†ä¸€ä¸‹ï¼š12345 å’Œ abcdeï¼Œå‰è€…æ˜¯æ•´æ•°ï¼Œåè€…æ˜¯å­—ç¬¦ä¸²ã€‚å¯¹äºæ•´æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°±ç”¨å®ƒçš„å€¼æ¥ä½œä¸ºå“ˆå¸Œå€¼ï¼Œé‚£è¿™ä¸ªæ•´æ•°çš„å“ˆå¸Œå€¼æ˜¯æ€ä¹ˆç®—çš„å‘¢ï¼Ÿå‡è®¾æ˜¯åœ¨ 10 è¿›åˆ¶ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">12345</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span>*10 + <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>*10 + <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>*10 + <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>*10 + <span class=\"token number\">5</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span>*10^4 + <span class=\"token number\">2</span>*10^3 + <span class=\"token number\">3</span>*10^2 + <span class=\"token number\">4</span>*10 + <span class=\"token number\">5</span></pre></td></tr></table></figure><p>åŒç†ï¼Œ<strong>å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦ä¹Ÿå¯ä»¥ä»£è¡¨æŸä¸ªæ•°å­—</strong>ï¼Œé‚£ä¹ˆå°±å¯ä»¥çœ‹åšæ¯ä¸ªå­—ç¬¦å°±æ˜¯æ•°ä½ä¸Šçš„ä¸€ä¸ªæ•°å­—ï¼Œå°±å¯ä»¥å¿«é€Ÿè½¬æ¢ä¸ºæ•´æ•°äº†ï¼Œé‚£ä¹ˆ<strong>è¿›åˆ¶ P</strong> ä¸ºå¤šå°‘åˆé€‚å‘¢ï¼ŸP æœ€å¥½æ˜¯ç´ æ•°ï¼Œ1313ï¼Œ131313ã€‚</p>\n<pre><code>hash(abc) = (a*P + b)*P + c = a*P^2 + b*P + c\n</code></pre>\n<p>å®šä¹‰ä¸¤ä¸ªæ•°ç»„ï¼Œ <code>h[i]</code>  è¡¨ç¤º <code>[0,i-1]</code>  å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ï¼Œ <code>p[i]</code>  è¡¨ç¤º <code>P^i</code> ï¼Œä¹Ÿå°±æ˜¯<strong>è¿›åˆ¶</strong>çš„å€¼ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªæ•°ç»„çš„åˆå§‹åŒ–ä¹Ÿå°±å‡ºæ¥äº†ï¼ˆ <code>h[i]</code>  è¡¨ç¤ºçš„ä¸æ˜¯ <code>[0,i]</code>  æ˜¯æœ‰åŸå› çš„ï¼Œä½ å½“ç„¶å¯ä»¥è¿™ä¹ˆè¡¨ç¤ºï¼Œåªæ˜¯æœ¬é¢˜å†™æˆ <code>i-1</code>  æ›´æ–¹ä¾¿ï¼‰ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">P</span> <span class=\"token operator\">=</span> <span class=\"token number\">131313</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> h <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é˜²æ­¢è¶Šç•Œï¼Œå¤šåˆ†é…ä¸€ä¸ª</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>p<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>h<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿™ä¸€æ­¥å¯ä»¥çœç•¥</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    h<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> h<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token class-name\">P</span> <span class=\"token operator\">+</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    p<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> p<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token class-name\">P</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>é‚£ä¹ˆç°åœ¨æ ¹æ®ä¸¤ä¸ªæ•°ç»„æ±‚è§£ <code>[i,j]</code>  å­ä¸²çš„å“ˆå¸Œå€¼ï¼Ÿä¸¾ä¸ªğŸŒ°ï¼Œç°æœ‰å­—ç¬¦ä¸² <code>s = &quot;abcdef&quot;</code> ï¼Œè¦æ±‚ <code>sub = &quot;cd&quot;</code>  çš„å“ˆå¸Œå€¼ï¼ˆæˆ‘ä»¬éå†è®¡ç®—çš„è¯å¯çŸ¥ï¼š <code>c*P + d</code> ï¼‰ï¼š</p>\n<p>d çš„ä¸‹æ ‡æ˜¯ 3ï¼Œ <code>h[4] = a*P^3 + b*P^2 + c*P + d; h[2] = a*P + b;</code>  ç®€å•è®¡ç®—å¯çŸ¥ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// è®¡ç®—çš„æ˜¯ [2,3] åŒºé—´å“ˆå¸Œå€¼</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">int</span> res <span class=\"token operator\">=</span> h<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> h<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> p<span class=\"token operator\">^</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ¨å¹¿åˆ° <code>[i,j]</code>  å°±æ˜¯ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> res <span class=\"token operator\">=</span> h<span class=\"token punctuation\">[</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> h<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token class-name\">P</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>j<span class=\"token operator\">-</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// æ­£å¥½æˆ‘ä»¬è®¡ç®—è¿‡ P çš„æ¬¡æ–¹</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>res <span class=\"token operator\">=</span> h<span class=\"token punctuation\">[</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> h<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> p<span class=\"token punctuation\">[</span>j<span class=\"token operator\">-</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ‰€ä»¥è¿™ä¸ªé¢˜çš„å­—ç¬¦ä¸²å“ˆå¸Œè§£æ³•å°±æ˜¯ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findRepeatedDnaSequences</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">P</span> <span class=\"token operator\">=</span> <span class=\"token number\">131313</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">&lt;=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> h <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        p<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> h<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// è¿™é‡Œåšä¸ªå¤„ç†ï¼Œh [i] è¡¨ç¤º h [0,i-1] çš„å“ˆå¸Œå€¼</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            h<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> h<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token class-name\">P</span> <span class=\"token operator\">+</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            p<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> p<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token class-name\">P</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">// è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœ h [i] è¡¨ç¤ºçš„æ˜¯ [0,i], é‚£ä¹ˆ h [0] çš„è®¡ç®—å°±è¦æ”¾åœ¨ for å¾ªç¯å¤–ï¼Œä¸å¥½çœ‹</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">// è¿™ä¸ªä¸œè¥¿çœ‹ä¸ªäººå§ hhhhh</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token keyword\">int</span> hash <span class=\"token operator\">=</span> h<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> h<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>p<span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token keyword\">int</span> t <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getOrDefault</span><span class=\"token punctuation\">(</span>hash<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span>i<span class=\"token operator\">+</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>hash<span class=\"token punctuation\">,</span>t<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"å“ˆå¸Œå†²çª\"><a class=\"anchor\" href=\"#å“ˆå¸Œå†²çª\">#</a> å“ˆå¸Œå†²çª</h2>\n<p>å…¶å®ï¼Œå¦‚æœåœ¨è®¡ç®—ä¸­ä¸ä¼šå‡ºç°ä»»ä½•æº¢å‡ºï¼Œé‚£ä¹ˆæ˜¯ä¸å­˜åœ¨å“ˆå¸Œå†²çªçš„ï¼Œä½†æ˜¯è¿™æ ·çš„æ•°æ®é‡å…¶å®æ˜¯ä¼šæº¢å‡ºçš„ã€‚</p>\n<p>ä»¥æœ¬é¢˜ä¸ºä¾‹ï¼Œå…ˆçœ‹ä¸€ä¸‹è®¡ç®—è¿‡ç¨‹å“ªé‡Œä¼šå‡ºç°æº¢å‡ºï¼š</p>\n<ul>\n<li><code>p[i]</code>  çš„è®¡ç®—ï¼Œ <code>2^17 &lt; P=131313 &lt; 2^18</code> ï¼Œæˆ‘ä»¬ä¹Ÿåªç”¨äº† <code>p[10] &lt; 2^28</code> ï¼Œæ‰€ä»¥æ²¡æœ‰æº¢å‡º</li>\n<li><code>h[i]</code>  è‚¯å®šæº¢å‡ºäº†ï¼Œæº¢å‡ºæˆè´Ÿæ•°ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæº¢å‡ºå°±å¯èƒ½å¯¼è‡´å“ˆå¸Œå†²çªå‘¢ï¼Ÿæˆ‘ä»¬çœ‹ä¸€æ®µä»£ç ï¼š</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">int</span> s <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">34</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        s <span class=\"token operator\">*=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>s åˆ°æœ€åè‚¯å®šæº¢å‡ºäº†ï¼Œæœ€åå‡ ä¸ªæ‰“å°å‡ºæ¥çš„éƒ½æ˜¯ 0ï¼Œæˆ‘ä»¬åœ¨è®¡ç®— <code>h[i]</code>  çš„æ—¶å€™ï¼Œå¦‚æœå‡ºç°æº¢å‡ºï¼Œä¹Ÿå°±å¯èƒ½æº¢å‡ºå¯¼è‡´å“ˆå¸Œå€¼å†²çªã€‚</p>\n<p>å¦‚ä½•é™ä½å†²çªï¼šå• Hash æ–¹æ³•å‡ºç°å†²çªçš„æ¦‚ç‡æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥å¯ä»¥é‡‡ç”¨åŒ Hash æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å†åŠ ä¸€ä¸ªè¿›åˆ¶ P2ï¼Œé™¤äº†ç»´æŠ¤é€šè¿‡ P è®¡ç®—å‡ºæ¥çš„ <code>h[i]</code>  ä»¥å¤–ï¼Œè¿˜è¦ç»´æŠ¤é€šè¿‡ P2 è®¡ç®—å‡ºæ¥çš„ <code>h2[i]</code> ï¼Œæ¯”è¾ƒå“ˆå¸Œå€¼çš„æ—¶å€™é€šè¿‡ä¸¤ä¸ªå“ˆå¸Œå€¼æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™æ ·æ›´å‡†ç¡®ã€‚</p>\n<h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<blockquote>\n<p>ä¸‰å¶å§çš„æ–‡ç« ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpVNE5ERTNNVEV5TUE9PSZhbXA7bWlkPTIyNDc0ODk4MTMmYW1wO2lkeD0xJmFtcDtzbj03ZjNiYzE4Y2EzOTBkODViMTc2NTVmNzE2NGQ4ZTY2MA==\">å­—ç¬¦ä¸²å“ˆå¸Œå…¥é—¨</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01pa2NoeS9hcnRpY2xlL2RldGFpbHMvMTAzOTk1NTM3P3NwbT0xMDAxLjIxMDEuMzAwMS42NjUwLjEzJmFtcDt1dG1fbWVkaXVtPWRpc3RyaWJ1dGUucGNfcmVsZXZhbnQubm9uZS10YXNrLWJsb2ctMiU3RWRlZmF1bHQlN0VCbG9nQ29tbWVuZEZyb21CYWlkdSU3RVJhdGUtMTMtMTAzOTk1NTM3LWJsb2ctMTE1Njc2NzYwLnBjX3JlbGV2YW50X211bHRpX3BsYXRmb3JtX3doaXRlbGlzdHYzJmFtcDtkZXB0aF8xLXV0bV9zb3VyY2U9ZGlzdHJpYnV0ZS5wY19yZWxldmFudC5ub25lLXRhc2stYmxvZy0yJTdFZGVmYXVsdCU3RUJsb2dDb21tZW5kRnJvbUJhaWR1JTdFUmF0ZS0xMy0xMDM5OTU1MzctYmxvZy0xMTU2NzY3NjAucGNfcmVsZXZhbnRfbXVsdGlfcGxhdGZvcm1fd2hpdGVsaXN0djMmYW1wO3V0bV9yZWxldmFudF9pbmRleD0xNA==\">ã€ç®—æ³•å­¦ä¹ ã€‘å­—ç¬¦ä¸²å“ˆå¸Œï¼ˆHashï¼‰</span></p>\n</blockquote>\n",
            "tags": [
                "æ•°æ®ç»“æ„ä¸ç®—æ³•"
            ]
        },
        {
            "id": "https://cecilia.cool/2022/10/29/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%B9%B6%E6%9F%A5%E9%9B%86/",
            "url": "https://cecilia.cool/2022/10/29/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%B9%B6%E6%9F%A5%E9%9B%86/",
            "title": "å¹¶æŸ¥é›†",
            "date_published": "2022-10-29T11:44:32.000Z",
            "content_html": "<h1 id=\"å¹¶æŸ¥é›†\"><a class=\"anchor\" href=\"#å¹¶æŸ¥é›†\">#</a> å¹¶æŸ¥é›†</h1>\n<p>è§£å†³é—®é¢˜ï¼š</p>\n<ul>\n<li>å¿«é€ŸçŸ¥é“ <code>x</code>  åœ¨å“ªä¸ªé›†åˆã€‚</li>\n<li>å¿«é€Ÿåˆ¤æ–­ <code>x</code> ï¼Œ <code>y</code>  æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆï¼Œå…¶å®å°±æ˜¯è¿ç”¨ç‰¹ç‚¹ä¸€ã€‚</li>\n</ul>\n<p>ä¸ºäº†ä¾¿äºä½“ç°ï¼Œä½¿ç”¨æ•°ç»„ä¸‹æ ‡è¡¨ç¤ºå…ƒç´  <code>x</code> ï¼Œæ•°ç»„å…ƒç´ è¡¨ç¤ºé›†åˆ â€”â€” <code>i</code>  è¡¨ç¤ºå…ƒç´ ï¼Œ <code>arr[i]</code>  è¡¨ç¤ºé›†åˆã€‚</p>\n<p>åˆå§‹åŒ–ï¼Œæˆ‘ä»¬è®©æ‰€æœ‰å…ƒç´ éƒ½å±äºè‡ªå·±é‚£ä¸ªé›†åˆï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å…·ä½“æ–¹æ³•åå•¥çš„çœç•¥</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"æœ€æ…¢çš„åˆå¹¶\"><a class=\"anchor\" href=\"#æœ€æ…¢çš„åˆå¹¶\">#</a> æœ€æ…¢çš„åˆå¹¶</h2>\n<p>å¹¶æŸ¥é›†çš„æ€æƒ³æ˜¯ï¼Œå½“æˆ‘ä»¬æƒ³åˆå¹¶ä¸¤ä¸ªå…ƒç´ ï¼šå°† <code>i</code>  ä¸ <code>j</code>  åˆå¹¶ï¼Œå°±è¦å°† <code>i</code>  æ‰€åœ¨é›†åˆçš„æ‰€æœ‰å…ƒç´ åˆå¹¶åˆ° <code>j</code>  æ‰€åœ¨é›†åˆã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åˆå¹¶ï¼šé»˜è®¤ xï¼Œy æ²¡æœ‰è¶Šç•Œ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">union</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n <span class=\"token punctuation\">;</span> i <span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\t <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> arr<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// æŸ¥æ‰¾ï¼šæŸ¥æ‰¾ x æ‰€åœ¨é›†åˆ</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p>\n<ul>\n<li>åˆå¹¶å¾ˆæ…¢ï¼Œæ¯æ¬¡åˆå¹¶æ“ä½œéƒ½æ˜¯ <code>O(n)</code> ã€‚</li>\n<li>æŸ¥è¯¢å¾ˆå¿«ï¼Œ <code>O(1)</code> ã€‚</li>\n</ul>\n<h2 id=\"å¿«åˆå¹¶æ…¢æŸ¥è¯¢\"><a class=\"anchor\" href=\"#å¿«åˆå¹¶æ…¢æŸ¥è¯¢\">#</a> å¿«åˆå¹¶æ…¢æŸ¥è¯¢</h2>\n<p>è¿™é‡Œçš„æ…¢æŸ¥è¯¢ï¼Œæœ€åçš„æƒ…å†µè¿˜æ˜¯ <code>O(n)</code> ã€‚</p>\n<p>æˆ‘ä»¬ä¸å¦¨è®¾å®šæ¯ä¸ªå…ƒç´ æ‰€åœ¨çš„é›†åˆæœ‰ä¸€ä¸ªå¤§å“¥ï¼Œæ¯ä¸ªå…ƒç´ çš„æŒ‡å‘è·¯å¾„çš„ç»ˆç‚¹éƒ½æ˜¯è¿™ä¸ªå¤§å“¥ã€‚</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>\n<ul>\n<li>\n<p>æ¯ä¸ªå…ƒç´ ä¸€å¼€å§‹éƒ½æŒ‡å‘è‡ªå·±ï¼Œè¡¨ç¤ºè‡ªå·±æ‰€åœ¨çš„é›†åˆã€‚</p>\n</li>\n<li>\n<p><code>x</code>  åˆå¹¶åˆ° <code>y</code> ï¼Œé‚£ä¹ˆ <code>arr[x] = y</code> ï¼Œç”¨èŠ‚ç‚¹è¡¨ç¤ºå°±æ˜¯ <code>(x) -&gt; (y)</code> ï¼Œç„¶åå°† <code>y</code>  åˆå¹¶åˆ° <code>z</code> ã€‚</p>\n</li>\n<li>\n<p>è¿™ä¸ªåˆå¹¶è¿‡ç¨‹ä¸ä¼šæ”¹å˜ <code>x</code>  çš„æŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯ <code>arr[x]</code>  è¿˜æ˜¯ <code>y</code> ï¼Œé‚£ä¹ˆæ•´ä¸ªæŒ‡å‘å°±å˜æˆäº† <code>(x)-&gt;(y)-&gt;(z)</code> ã€‚</p>\n</li>\n<li>\n<p>æ¯ä¸ªèŠ‚ç‚¹çš„æŒ‡å‘è·¯å¾„çš„ç»ˆç‚¹éƒ½æ˜¯ <code>z</code> ï¼Œ <code>z</code>  å°±æ˜¯è¿™ä¸ªé›†åˆçš„å¤§å“¥ï¼Œå¦ç±»åœ°è¯´ï¼Œå…¶ä»–å…ƒç´ éƒ½åœ¨ <code>z</code>  é›†åˆä¸­ã€‚</p>\n</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æŸ¥è¯¢</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token comment\">// å°±åƒé“¾è¡¨ä¸€æ ·ä¸æ–­å‘ä¸‹æŸ¥è¯¢ã€‚</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">!=</span> arr<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        x <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// åˆå¹¶</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">union</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">int</span> endFisrt <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">int</span> endSecond <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// ä¸è®º endFirst æ˜¯å¦ç­‰äº endSecond åŒä¸€ä¸ªé›†åˆï¼Œéƒ½å¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    arr<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¯¦ç»†åˆå¹¶å¦‚å›¾ï¼š</p>\n<p><img data-src=\"https://s3.bmp.ovh/imgs/2022/10/29/d7ba33de77b2f858.jpg\" alt=\"\" /></p>\n<p>ç¼ºç‚¹ï¼šåˆå¹¶å¯èƒ½ä¼šå¯¼è‡´æ ‘é€€åŒ–ä¸ºå•é“¾è¡¨ï¼Œå¯¼è‡´ <code>find()</code>  æ—¶é—´å¤æ‚åº¦ä¸Šå‡ã€‚</p>\n<h2 id=\"åŸºäºé‡é‡åˆå¹¶\"><a class=\"anchor\" href=\"#åŸºäºé‡é‡åˆå¹¶\">#</a> åŸºäºé‡é‡åˆå¹¶</h2>\n<p>å…¶å®åˆå¹¶ <code>x</code> ï¼Œ <code>y</code>  å¹¶ä¸æ˜¯éè¦ <code>x</code>  å¹¶å…¥ <code>y</code> ï¼Œä¹Ÿå¯ä»¥æ˜¯ <code>y</code>  å¹¶å…¥ <code>x</code> ã€‚åŸºäºé‡é‡åˆå¹¶ï¼Œå°±æ˜¯é›†åˆå…ƒç´ å°‘çš„åˆå¹¶åˆ°é›†åˆå…ƒç´ å¤šçš„é‡Œé¢ã€‚</p>\n<p><img data-src=\"https://s3.bmp.ovh/imgs/2022/10/29/638a98e04e9c3afd.jpg\" alt=\"\" /></p>\n<p>æˆ‘ä»¬åªéœ€è¦é¢å¤–å¼€ä¸€ä¸ªæ•°ç»„è®°å½•å¸¦å¤´å¤§å“¥æœ‰å¤šå°‘ä¸ªå°å¼Ÿå³å¯ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åˆå§‹åŒ– weight [i] = 1;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// åˆå¹¶</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">union</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">int</span> endFirst <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">int</span> endSecond <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>endFirst <span class=\"token operator\">==</span> endSecond<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>weight<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> weight<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        arr<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        weight<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> weight<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// ç­‰äºçš„æ—¶å€™éšä¾¿åˆå¹¶</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        arr<span class=\"token punctuation\">[</span>endFrist<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        weight<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> weight<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"ç©ºé—´å‹ç¼©ä¼˜åŒ–\"><a class=\"anchor\" href=\"#ç©ºé—´å‹ç¼©ä¼˜åŒ–\">#</a> ç©ºé—´å‹ç¼©ä¼˜åŒ–</h3>\n<p>åœ¨æŸ¥è¯¢çš„æ—¶å€™å¯ä»¥å‹ç¼©ç©ºé—´ï¼Œä½¿å¾—ä¹‹åæŸ¥è¯¢ç”¨æ—¶å‡å°‘ï¼Œè¿™ç§æ–¹æ³•åªèƒ½ç”¨äºé‡é‡åˆå¹¶ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">!=</span> arr<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token comment\">// è®© x æŒ‡å‘çˆ¶äº²çš„çˆ¶äº²ï¼Œè¿™å°±ä½¿å¾—æ•´ä¸ªé“¾è¡¨é€æ¸å˜çŸ­</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        arr<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>arr<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        x <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"åŸºäºé«˜åº¦åˆå¹¶\"><a class=\"anchor\" href=\"#åŸºäºé«˜åº¦åˆå¹¶\">#</a> åŸºäºé«˜åº¦åˆå¹¶</h2>\n<p>æ ¹æ®é«˜åº¦ï¼Œå¾ˆç®€å•ï¼ŒçŸ®çš„åˆå¹¶åˆ°é«˜çš„ï¼Œç›´æ¥çœ‹å›¾ä¸å¤šè¯´ï¼š</p>\n<p><img data-src=\"https://s3.bmp.ovh/imgs/2022/10/29/f0c6f4d69610cfed.jpg\" alt=\"\" /></p>\n<p>åŒç†ï¼Œéœ€è¦é¢å¤–ç©ºé—´è®°å½•è€å¤§å“¥é«˜åº¦ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åˆå§‹åŒ– height [i] = 1;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">union</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">int</span> endFirst <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">int</span> endSecond <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>endFirst <span class=\"token operator\">==</span> endSecond<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> height<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        arr<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> height<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        arr<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">// éšä¾¿å“ªä¸ªåˆå¹¶åˆ°å“ªä¸ª</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        arr<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>endFirst<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    \theight<span class=\"token punctuation\">[</span>endSecond<span class=\"token punctuation\">]</span><span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<blockquote>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vbm9raW5nL3AvODAxODYwOS5odG1s\">https://www.cnblogs.com/noking/p/8018609.html</span></p>\n</blockquote>\n",
            "tags": [
                "æ•°æ®ç»“æ„ä¸ç®—æ³•"
            ]
        },
        {
            "id": "https://cecilia.cool/2022/10/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/",
            "url": "https://cecilia.cool/2022/10/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/",
            "title": "æ ‘çŠ¶æ•°ç»„",
            "date_published": "2022-10-23T05:41:48.000Z",
            "content_html": "<h1 id=\"æ ‘çŠ¶æ•°ç»„\"><a class=\"anchor\" href=\"#æ ‘çŠ¶æ•°ç»„\">#</a> æ ‘çŠ¶æ•°ç»„</h1>\n<p>è§£å†³çš„é—®é¢˜</p>\n<p>æ ‘çŠ¶æ•°ç»„å¯ä»¥åŒæ—¶å®ç° <code>O(logn)</code>  æ—¶é—´å¤æ‚åº¦ï¼š</p>\n<ul>\n<li>\n<p>è·å– <code>arr[0]~arr[i]</code>  çš„å’Œ</p>\n</li>\n<li>\n<p>å¯¹ <code>arr[i]</code>  è¿›è¡Œä¿®æ”¹ã€‚</p>\n</li>\n</ul>\n<p>è¿™ä¸¤ä¸ªè¦ç´ ï¼Œå¦‚æœåªéœ€è¦å®ç°å•ç‹¬çš„è¦æ±‚ï¼Œç”šè‡³å¯ä»¥åšåˆ° <code>O(1)</code> ï¼Œä½†æ˜¯åŒæ—¶å®ç°çš„è¯ï¼Œä¸ç”¨æ ‘çŠ¶æ•°ç»„ï¼Œå°±åªèƒ½æ˜¯ä¸€ä¸ª <code>O(n)</code> ï¼Œå¦ä¸€ä¸ª <code>O(1)</code> ã€‚å½“ n æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œæ•ˆç‡å°±æ¯”è¾ƒä½ã€‚</p>\n<h2 id=\"æ„å»º\"><a class=\"anchor\" href=\"#æ„å»º\">#</a> æ„å»º</h2>\n<p>å‡è®¾ç›®æ ‡æ•°ç»„æ˜¯ <code>arr</code> ï¼Œè¦æ„å»º <code>arr</code>  çš„æ ‘çŠ¶æ•°ç»„ <code>tr</code> ï¼Œè¿™é‡Œè¦æç¤ºçš„æ˜¯ï¼Œarr æœ€ç†æƒ³çš„æ˜¯å‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œä¸ä½¿ç”¨ <code>i==0</code> ï¼š</p>\n<p><img data-src=\"https://s3.bmp.ovh/imgs/2022/10/23/2bef3ba3d82291f3.jpg\" alt=\"\" /></p>\n<p>ä¸‹é¢æåˆ°çš„ <code>arr[i]</code>  éƒ½æ˜¯å˜æ¢åçš„</p>\n<ul>\n<li>\n<p>å®šä¹‰ <code>tr[i] = arr[i-2^k+1] + .. + arr[i-1] + arr[i]</code> ï¼Œ <code>k</code>  æ˜¯ <code>i</code>  äºŒè¿›åˆ¶æœ«å°¾ 0 çš„ä¸ªæ•°ã€‚</p>\n</li>\n<li>\n<p><code>tr</code>  çš„ä¸‹æ ‡ä» 1 å¼€å§‹ã€‚</p>\n</li>\n<li>\n<p><code>2^k</code>  å¯ä»¥é€šè¿‡ <code>i &amp; (-i)</code>  è·å¾—ï¼Œè¿™ä¸ªæ•°çš„æœ¬è´¨å°±æ˜¯ <code>tr[i]</code>  ç®¡ç†çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</p>\n</li>\n</ul>\n<p>å‡è®¾ <code>arr</code>  æœ‰ 9 ä¸ªå…ƒç´ ï¼Œå˜æ¢åå°±æ˜¯ <code>arr[1]~arr[9]</code> ï¼Œ <code>arr[i]</code>  å°±æ˜¯ç¬¬ <code>i</code>  ä¸ªæ•°ï¼Œé‚£ä¹ˆé€šè¿‡ä¸Šé¢çš„å˜æ¢å°±æ˜¯ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># 1 + 1&amp;(-1) + 1 = 1</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> + arr<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> + arr<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> + arr<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> + arr<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> + tr<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> + arr<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span> + arr<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> + <span class=\"token punctuation\">..</span>. + arr<span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> + tr<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span> + tr<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> + arr<span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>tr<span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span></pre></td></tr></table></figure><p>å°±å¾—åˆ°æ ‘çŠ¶æ•°ç»„ï¼š</p>\n<p><img data-src=\"https://s3.bmp.ovh/imgs/2022/10/23/f17110d8f5447512.jpg\" alt=\"\" /></p>\n<p>æˆ‘ä»¬æ€ä¹ˆå»è·å¾—è¿™ä¸ª <code>tr</code>  æ•°ç»„å‘¢ï¼Ÿæˆ‘ä»¬å‡è®¾å·²ç»æœ‰äº†å¯¹ <code>arr</code>  æ•°ç»„ä¿®æ”¹å…ƒç´ çš„æ“ä½œ <code>add()</code> ï¼Œè¿™å°±éœ€è¦ç»´æŠ¤ <code>tr</code>  æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>arr</code>  æ‰€æœ‰å…ƒç´ çœ‹ä½œ 0ï¼Œç„¶åä¾æ¬¡å°†ç°æœ‰æ•°æ®åŠ è¿›å»ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"ä¿®æ”¹\"><a class=\"anchor\" href=\"#ä¿®æ”¹\">#</a> ä¿®æ”¹</h2>\n<p>ä¿®æ”¹ä¸€ä¸ªèŠ‚ç‚¹ ( <code>arr[i]</code>  åŠ äº† <code>x</code> )ï¼Œå°±å¿…é¡»ä¿®æ”¹æ‰€æœ‰ç¥–å…ˆèŠ‚ç‚¹ï¼Œæœ€å¤šæœ‰ log (n) ä¸ªèŠ‚ç‚¹ï¼š</p>\n<ol>\n<li><code>i &gt;= n</code> ï¼Œç®—æ³•ç»“æŸã€‚</li>\n<li><code>tr[i] = tr[i] + x;i = i + (i&amp;(-i)); </code> ï¼Œå›åˆ°ç¬¬ä¸€æ­¥ã€‚</li>\n</ol>\n<p>ä»£ç ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">lowbit</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">return</span> x <span class=\"token operator\">&amp;</span> <span class=\"token operator\">-</span>x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> u<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+=</span> <span class=\"token function\">lowbit</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> tr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> u<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ <code>add</code>  ä¸èƒ½ä¼ å…¥ 0ï¼Œä¸ç„¶å¾ªç¯å°±æ— æ³•ç»“æŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ <code>tr[0]</code>  æ˜¯ä¸èƒ½ç”¨çš„ï¼Œéœ€è¦ç”¨ <code>tr[1]</code>  æ¥ç®¡ç† <code>arr[0]</code> ã€‚ä¸ºäº†ä¸é‚£ä¹ˆç»•ï¼Œæˆ‘ä»¬åœ¨è„‘æµ·ä¸­å°† <code>arr</code>  å‘å³ç§»åŠ¨ä¸€æ ¼å³å¯ï¼Œå³ <code>arr[i]</code>  å¯¹åº” <code>tr[i+1]</code> ï¼Œé€šè¿‡ <code>add(i+1,x)</code>  æ¥å±è”½å·®å¼‚ã€‚</p>\n<p>è§£é‡Šä»£ç ï¼š</p>\n<p>ä¸»è¦çœ‹ä¸Šé¢çš„å›¾ï¼Œå‡è®¾ <code>A[1]</code>  åŠ äº† 1ï¼Œé‚£ä¹ˆç®¡ç† <code>A[1]</code>  æ ‘çŠ¶æ•°ç»„éƒ½éœ€è¦æ”¹å˜ï¼š</p>\n<ul>\n<li><code>C[1]ï¼ŒC[2]ï¼ŒC[4]ï¼ŒC[8]</code>  éƒ½ç®¡ç†ç€ <code>A[1]</code> ï¼Œæ‰€ä»¥åªéœ€è¦æ”¹å˜è¿™å‡ ä¸ªçš„å€¼ã€‚</li>\n<li>åŒæ—¶ <code>A[i]</code>  é¦–å…ˆæ˜¯è¢« <code>C[i]</code>  ç®¡ç†ç€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä» <code>C[i]</code>  å‘ä¸Šå¯»æ‰¾ã€‚</li>\n<li>ä» <code>C[1]</code>  å‘ä¸Šæ‰¾åˆ° <code>C[8]</code> ï¼Œå…¶å®å°±æ˜¯ <code>i+lowbit(i)</code>  çš„æ“ä½œã€‚</li>\n</ul>\n<blockquote>\n<p><code>i+lowbit(i)</code>  å°±æ˜¯åŠ ä¸Š <code>i</code>  æœ€åä¸€ä½ 1 çš„å€¼ã€‚</p>\n</blockquote>\n<h2 id=\"æŸ¥è¯¢\"><a class=\"anchor\" href=\"#æŸ¥è¯¢\">#</a> æŸ¥è¯¢</h2>\n<p>æƒ³è¦è·å– <code>arr[i]</code>  çš„å‰é¢çš„å’Œï¼š</p>\n<ol>\n<li><code>ans=0ï¼›</code> ã€‚</li>\n<li><code>i&lt;=0</code> ï¼Œè¿”å› <code>ans</code> ï¼›å¦åˆ™ <code>ans += tr[i]</code> ã€‚</li>\n<li><code>i -= lowbit(i)</code> ï¼Œå›åˆ°ç¬¬äºŒæ­¥ã€‚</li>\n</ol>\n<p>è¿˜æ˜¯çœ‹ä¸Šå›¾ï¼Œæ¯”å¦‚æ±‚ <code>arr[1]+arr[6]</code> ï¼Œå°±æ˜¯æ‰¾åˆ° <code>tr[6]</code> ï¼Œç„¶åå†è¿›å…¥å¾ªç¯ï¼Œ <code>6-lowbit(6)</code>  å°±æ˜¯ 4ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">int</span> ans <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">-=</span> <span class=\"token function\">lowbi</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        ans <span class=\"token operator\">+=</span> tr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">return</span> ans<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"å®Œæ•´ä»£ç \"><a class=\"anchor\" href=\"#å®Œæ•´ä»£ç \">#</a> å®Œæ•´ä»£ç </h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> trx<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">int</span> n<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> <span class=\"token function\">lowbit</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">return</span> i <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">//add æ“ä½œä¸å¤„ç† arr æ•°ç»„çš„ä¿®æ”¹ï¼Œäº¤ç»™å…¶ä»–æ–¹æ³•å¤„ç†</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> u<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+=</span> <span class=\"token function\">lowbit</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            tr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> u<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> <span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">int</span> ans<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span>i <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">-=</span> <span class=\"token function\">lowbit</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            ans <span class=\"token operator\">+=</span> tr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> ans<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">process</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        n <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        trx <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// å…¶å® n+1 å°±å¤Ÿäº†</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">// åˆå§‹åŒ–æ ‘çŠ¶æ•°ç»„</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\">// ä¸€ç³»åˆ—æ“ä½œ</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<blockquote>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vTGVobWFuLVNoYXJlL3AvODAwNDk4My5odG1s\">https://www.cnblogs.com/Lehman-Share/p/8004983.html</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaGFyaW5nc291cmNlLmdpdGh1Yi5pby8yMDIxLzAzLzAzLzMwNy4lMjAlRTUlOEMlQkElRTUlOUYlOUYlRTUlOTIlOEMlRTYlQTMlODAlRTclQjQlQTIlMjAtJTIwJUU2JTk1JUIwJUU3JUJCJTg0JUU1JThGJUFGJUU0JUJGJUFFJUU2JTk0JUI5JUVGJUJDJTg4JUU0JUI4JUFEJUU3JUFEJTg5JUVGJUJDJTg5Lw==\">å®«æ°´ä¸‰å¶ - LC307</span></p>\n</blockquote>\n",
            "tags": [
                "æ•°æ®ç»“æ„ä¸ç®—æ³•"
            ]
        },
        {
            "id": "https://cecilia.cool/2022/10/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/",
            "url": "https://cecilia.cool/2022/10/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/",
            "title": "åŠ¨æ€è§„åˆ’",
            "date_published": "2022-10-18T13:19:44.000Z",
            "content_html": "<h1 id=\"åŒºé—´dp\"><a class=\"anchor\" href=\"#åŒºé—´dp\">#</a> åŒºé—´ DP</h1>\n<p>LeetCode ä¸Šçš„ **ã€<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9zdG9uZS1nYW1lLw==\">877. çŸ³å­æ¸¸æˆ</span>ã€‘<strong>ï¼Œéš¾åº¦ä¸º</strong>ã€ä¸­ç­‰ã€‘**ã€‚</p>\n<p>å…¸å‹çš„åŒºé—´ DP é—®é¢˜ï¼šå¤§åŒºé—´çŠ¶æ€å€¼ä¾èµ–å°åŒºé—´çŠ¶æ€å€¼ã€‚</p>\n<p>å‡è®¾ <code>f[x][y]</code>  è¡¨ç¤ºçš„æ˜¯<strong>å…ˆæ‰‹</strong>åœ¨ <code>[x,y]</code>  åŒºé—´çš„æ€»æ•°å·®å€¼ï¼Œé‚£ä¹ˆæœ€ååªéœ€è¦ <code>return f[1][n] &gt; 0</code>  å³å¯ã€‚ä»ä¸€èˆ¬æ€§æ¨å¯¼é€’æ¨å¼ï¼Œ <code>f[l][r]</code> ï¼Œå¦‚æœå…ˆæ‰‹å…ˆæ‹¿å·¦è¾¹çš„ï¼Œé‚£ä¹ˆä¹‹åå°±æ˜¯åæ‰‹å˜å…ˆæ‰‹ï¼Œ <code>f[l+1][r]</code>  å°±æ˜¯ <code>f[l][r]</code>  ä¸­åæ‰‹çš„æ€»æ•°å·®å€¼ï¼Œæ‰€ä»¥å…ˆæ‹¿å·¦è¾¹å¾—åˆ°çš„å·®å€¼å°±æ˜¯ <code>p[l]-f[l+1][r]</code> ã€‚åŒç†ï¼Œæ‹¿å³è¾¹å¾—åˆ°çš„å·®å€¼å°±æ˜¯ <code>p[r]-f[l][r-1]</code> ã€‚å› ä¸ºä¸¤è¾¹éƒ½æƒ³èµ¢ï¼Œæ‰€ä»¥ <code>f[l][r] = Math.max(p[l]-f[l+1][r],p[r]-f[l][r-1])</code> ã€‚</p>\n<p>ç›¸å…³ä»£ç ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">stoneGame</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> p<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> p<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> len <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> len <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> len<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// æšä¸¾åŒºé—´é•¿åº¦</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> l <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> l <span class=\"token operator\">+</span> len <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> l<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// æšä¸¾å·¦ç«¯ç‚¹</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">int</span> r <span class=\"token operator\">=</span> l <span class=\"token operator\">+</span> len <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å³ç«¯ç‚¹</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            f<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">[</span>l<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> f<span class=\"token punctuation\">[</span>l<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> p<span class=\"token punctuation\">[</span>r<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>f<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>r<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">return</span> f<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æ€»ç»“ï¼šå¤§åŒºé—´ä¾èµ–å°åŒºé—´ï¼Œæ‰€ä»¥åœ¨ dp æ—¶ï¼Œå¯ä»¥å…ˆæšä¸¾åŒºé—´é•¿åº¦ã€‚</p>\n<blockquote>\n<p>å½“ç„¶ï¼Œè¿™é“é¢˜ï¼Œä½œä¸ºåšå¼ˆé—®é¢˜ï¼Œå…¶å®æ˜¯å…ˆæ‰‹å¿…èµ¢çš„å±€é¢ã€‚</p>\n</blockquote>\n<p>æ‰©å±•ä¸€ä¸‹åšå¼ˆæ€è·¯ï¼Œé¦–å…ˆçŸ³å­æ€»å’Œä¸ºå¥‡æ•°ï¼Œæ€»æ•°ä¸ºå¶æ•°ï¼Œæ»¡è¶³è¿™ä¹ˆä¸€ä¸ªç‰¹æ€§ï¼šå‡åˆ†ä¸¤å † ABï¼ŒAB å †å„è‡ªçŸ³å­æ€»å’Œå¿…ä¸å¯èƒ½ç›¸åŒã€‚æ‰€ä»¥å…ˆæ‰‹åœ¨æ‹¿çš„æ—¶å€™ï¼Œå¯ä»¥å°†çŸ³å­æ•°ç»„åˆ’åˆ†ä¸¤å †ï¼š</p>\n<ul>\n<li>åŸæ•°ç»„ï¼šC C C C C C</li>\n<li>åˆ’åˆ†åï¼šA B A B A B</li>\n</ul>\n<p>é‚£ä¹ˆ sum_A å’Œ sum_B å¿…å®šæœ‰ä¸€ä¸ªæ›´å¤§ï¼Œå…ˆæ‰‹å¯ä»¥ä¿è¯æ€»æ˜¯æ‹¿åˆ° A æˆ–è€… Bã€‚å¦‚æœ A å †æ›´åˆ°ï¼Œé‚£å…ˆæ‰‹åªéœ€è¦æ¯æ¬¡éƒ½æ‹¿ A å³å¯ï¼ˆåæ‰‹æ¯æ¬¡å— A å½±å“ï¼Œåªèƒ½æ‹¿ Bï¼‰ã€‚</p>\n<p>å…¶ä»–çš„åŒºé—´ DP ç»ƒä¹ é¢˜ï¼š</p>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9sb25nZXN0LXBhbGluZHJvbWljLXN1YnNlcXVlbmNlL3N1Ym1pc3Npb25zLw==\">æœ€é•¿å›æ–‡å­åºåˆ—</span></li>\n</ul>\n<p>å‚è€ƒï¼š</p>\n<ul>\n<li>ä¸‰å¶å§ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvU2UyQXdfcTc0dllsQXBGN0g2T1VWdw==\">https://mp.weixin.qq.com/s/Se2Aw_q74vYlApF7H6OUVw</span></li>\n</ul>\n<h1 id=\"åºåˆ—dp\"><a class=\"anchor\" href=\"#åºåˆ—dp\">#</a> åºåˆ— DP</h1>\n<p>LeetCode ä¸Šçš„ **ã€<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy93b3JkLWJyZWFrLw==\">139. å•è¯æ‹†åˆ†</span>ã€‘<strong>ï¼Œéš¾åº¦ä¸º</strong>ã€ä¸­ç­‰ã€‘**ã€‚</p>\n<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ wordDict ä½œä¸ºå­—å…¸ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥åˆ©ç”¨å­—å…¸ä¸­å‡ºç°çš„å•è¯æ‹¼æ¥å‡º s ã€‚</p>\n<p>æ³¨æ„ï¼šä¸è¦æ±‚å­—å…¸ä¸­å‡ºç°çš„å•è¯å…¨éƒ¨éƒ½ä½¿ç”¨ï¼Œå¹¶ä¸”å­—å…¸ä¸­çš„å•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚</p>\n<p>ç¤ºä¾‹ 1ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>è¾“å…¥: s <span class=\"token operator\">=</span> <span class=\"token string\">\"leetcode\"</span>, wordDict <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"leet\"</span>, <span class=\"token string\">\"code\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>è¾“å‡º: <span class=\"token boolean\">true</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>è§£é‡Š: è¿”å› <span class=\"token boolean\">true</span> å› ä¸º <span class=\"token string\">\"leetcode\"</span> å¯ä»¥ç”± <span class=\"token string\">\"leet\"</span> å’Œ <span class=\"token string\">\"code\"</span> æ‹¼æ¥æˆã€‚</pre></td></tr></table></figure><p>è°ƒæ•´å­—ç¬¦ä¸² s ä»¥åŠ dp æ•°ç»„ä¸‹æ ‡ä» 1 å¼€å§‹ã€‚</p>\n<p>å®šä¹‰ <code>f[i]</code>  æ˜¯å‰ <code>i</code>  ä¸ªå­—ç¬¦ï¼Œèƒ½å¦ä½¿ç”¨ <code>wordDict</code>  æ‹¼å‡‘ï¼š <code>f[i]=true</code>  ä»£è¡¨ <code>s[1...i]</code>  èƒ½å¤Ÿä½¿ç”¨ <code>wordDict</code>  æ‰€å‡‘æˆï¼Œåä¹‹åˆ™ä¸èƒ½ã€‚</p>\n<p>æ•°ç»„è½¬ç§»ï¼š <code>f[i]</code>  éœ€è¦è€ƒè™‘ <code>s[1...i]</code>  èŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚æœ <code>f[j-1]=true</code>  ä¸” <code>s[j..i]</code>  èƒ½å¤Ÿè¢«æ‹¼å‡‘å‡ºæ¥ï¼Œå°±è¯´æ˜ <code>f[i] = true</code> ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯æšä¸¾ <code>1~i</code> ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">wordBreak</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> s<span class=\"token punctuation\">,</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> wordDict<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> setWord <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> word <span class=\"token operator\">:</span> wordDict<span class=\"token punctuation\">)</span> setWord<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">boolean</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">boolean</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        f<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;=</span> i <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>j<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> setWord<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>j<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">return</span> f<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æ‰§è¡Œç”¨æ—¶ä¸º 7msï¼Œå…¶å®è¿˜å¯ä»¥æ›´å¿«ï¼Œåœ¨åº•å±‚å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯åœ¨ 1~i ä¸­é—´æ’ä¸€å—ä½¿å…¶åˆ†ä¸ºä¸¤ä¸ªåŒºé—´ï¼ˆi==j æ—¶ä¸ºä¸€ä¸ªåŒºé—´ï¼‰ï¼Œå…¶å®å¯ä»¥ä¸ç”¨éå†å–åˆ’åˆ†åŒºé—´ï¼Œå‡è®¾ç»™å®šå•è¯æ•°ç»„é‡Œé¢ï¼Œå•è¯é•¿åº¦åˆ†åˆ«æ˜¯ 3ï¼Œ5ï¼Œ6ã€‚é‚£ä¹ˆåˆ’åˆ† <code>s[i-1,i]</code>  è¿™æ ·çš„åŒºé—´æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œä¼˜åŒ–ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">wordBreak</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> s<span class=\"token punctuation\">,</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> wordDict<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> setWord <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> setLen <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> word <span class=\"token operator\">:</span> wordDict<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            setWord<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// å®ç°å¿«é€ŸæŸ¥è¯¢</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            setLen<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">boolean</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">boolean</span><span class=\"token punctuation\">[</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        f<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> len <span class=\"token operator\">:</span> setLen<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token comment\">// å°†ä¸¤ä¸ªåˆ¤æ–­èµ·æ¥å¿«ä¸€ç‚¹çš„æ¡ä»¶æ”¾å‰é¢</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">>=</span> len <span class=\"token operator\">&amp;&amp;</span> f<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span>len<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> setWord<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">-</span>len<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                    f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> f<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>çº¿æ€§ dp ä¸åºåˆ— dp çš„åŒºåˆ«ï¼š</p>\n<ul>\n<li>çº¿æ€§ dp å¼ºè°ƒã€çŠ¶æ€è½¬ç§»æ‰€ä¾èµ–çš„å‰é©±çŠ¶æ€ã€‘æ˜¯ç”±ç»™å®šæ•°ç»„æ‰€æä¾›çš„ï¼Œä¹Ÿå°±æ˜¯ <code>f[i][..]</code>  ä¾èµ– <code>f[i-1][...]</code> ã€‚é™å®šäº†çº¿æ€§ dp å¤æ‚åº¦æ˜¯ç®€å•ç”±ã€çŠ¶æ€æ•°é‡ã€‘å†³å®šçš„ã€‚</li>\n<li>åºåˆ— dp éœ€è¦ç»“åˆé¢˜æ„æ¥å¯»æ‰¾å‰é©±çŠ¶æ€ï¼Œéœ€è¦è‡ªèº«å¯»æ‰¾æ‹“æ‰‘åºå…³ç³»ï¼ˆå¦‚æœ¬é¢˜éœ€è¦è‡ªå·±æšä¸¾çš„æ–¹å¼å¯»æ‰¾å·¦ç«¯ç‚¹ï¼Œä»è€Œæ‰¾åˆ°å¯è½¬ç§»çš„å‰é©±çŠ¶æ€ <code>f[j-1]</code> ã€‚é™å®šäº†åºåˆ— dp å¤æ‚åº¦æ˜¯ç”±ã€çŠ¶æ€æ•° + æ‰¾å‰é©±ã€‘çš„å¤æ‚åº¦å†³å®šçš„ã€‚</li>\n</ul>\n<p>å­¦ä¹ ä¸‰å¶å§çš„å…¬ä¼—å·ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpVNE5ERTNNVEV5TUE9PSZhbXA7bWlkPTIyNDc0OTQwMDgmYW1wO2lkeD0xJmFtcDtzbj1lNDA1NDE4OGM2ZjQ1NTE5Mjg3MzlmZGUyM2JhNTEzNSZhbXA7Y2hrc209ZmQ5ZjQyNjdjYWU4Y2I3MWZmYWEzZmNhOGRiY2Q5MGRhZTViNGIxNWQzZjI2ODdiMTNhNmUzYmM2YzcyZmMxNTU0NzU5MGQ1MjE2MSZhbXA7c2NlbmU9MTc4JmFtcDtjdXJfYWxidW1faWQ9MTkwNTQxMTkxMTYzOTE4NzQ1NyNyZA==\">ã€å¸¸è§é¢˜å‹æ€»ç»“ã€‘åºåˆ— DP æ¨¡æ¿é¢˜ï¼ˆæ€»ç»“ã€çº¿æ€§ DPã€‘å’Œã€åºåˆ— DPã€‘æœ¬è´¨åŒºåˆ«ï¼‰</span>ã€‚</p>\n<h1 id=\"lcsæ¨¡æ¿\"><a class=\"anchor\" href=\"#lcsæ¨¡æ¿\">#</a> LCS æ¨¡æ¿</h1>\n<p>LCS å°±æ˜¯æœ€é•¿å…¬å…±å­åºåˆ—ï¼ŒLeetCode ä¸Šçš„ **<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9sb25nZXN0LWNvbW1vbi1zdWJzZXF1ZW5jZS9zdWJtaXNzaW9ucy8=\">ã€1143. æœ€é•¿å…¬å…±å­åºåˆ—ã€‘</span>ã€‘<strong>ï¼Œéš¾åº¦ä¸º</strong>ã€ä¸­ç­‰ã€‘**ã€‚</p>\n<p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºæœ€é•¿å…¬å…±å­åºåˆ—ã€‚</p>\n<p>LCS è¿™ç±»é¢˜ï¼Œéƒ½ä½¿ç”¨å¦‚ä¸‹ **ã€çŠ¶æ€å®šä¹‰ã€‘**ï¼š</p>\n<p><strong> <code>f[i][j]</code>  è¡¨ç¤ºè€ƒè™‘ <code>s1</code>  å‰ <code>i</code>  ä¸ªå­—ç¬¦å’Œè€ƒè™‘ <code>s2</code>  å‰ <code>j</code>  ä¸ªå­—ç¬¦ï¼Œå½¢æˆçš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦</strong>ã€‚æœ‰äº†ã€çŠ¶æ€å®šä¹‰ã€‘ï¼Œå°±å¯ä»¥å¾—åˆ°ã€è½¬ç§»æ–¹ç¨‹ã€‘ï¼š</p>\n<ul>\n<li>\n<p>å¦‚æœ <code>s1[i] == s2[j]</code> ï¼š <code>f[i][j] = f[i-1][j-1]+1</code> ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœ <code>s1[i] != s2[j]</code> ï¼š <code>f[i][j] = Math.max(f[i-1][j],f[i][j-1])</code> ã€‚</p>\n</li>\n</ul>\n<p>ç¼–ç ç»†èŠ‚ï¼šå¯ä»¥åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²å‰é¢åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ï¼Œè¿™æ ·å°±å¯ä»¥å°† <code>f[i][0]</code>  å’Œ <code>f[0][j]</code>  åˆå§‹åŒ–ä¸º 1ã€‚</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">fun</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> s1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> s2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> s1<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> m <span class=\"token operator\">=</span> s2<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    s1 <span class=\"token operator\">=</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> s1<span class=\"token punctuation\">;</span>s2 <span class=\"token operator\">=</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> s2<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;=</span> m <span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> f<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n <span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;=</span> m <span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> s2<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> f<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">else</span> f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">return</span> f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å¦‚ä½•é€šè¿‡ <code>f</code>  æ•°ç»„æ„é€ å‡ºæœ€é•¿å…¬å…±å­åºåˆ—ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">StringBuffer</span> sb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> n <span class=\"token punctuation\">,</span> j <span class=\"token operator\">=</span> m<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> j <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> s2<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        sb<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        i<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>j<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> f<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">//s1 [i] æ²¡æœ‰åœ¨ s1 (0,i)ï¼Œs2 (0,j) çš„æœ€é•¿å…¬å…±å­åºåˆ—ä¸­</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        i<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> j<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">return</span> sb<span class=\"token punctuation\">.</span><span class=\"token function\">reverse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>ç±»ä¼¼é¢˜è¿˜æœ‰ **ã€<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9zaG9ydGVzdC1jb21tb24tc3VwZXJzZXF1ZW5jZS9zdWJtaXNzaW9ucy8=\">1092. æœ€çŸ­å…¬å…±è¶…åºåˆ—</span>ã€‘**ã€‚</p>\n<p>å­¦ä¹ ä¸‰å¶å§çš„å…¬ä¼—å·ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpVNE5ERTNNVEV5TUE9PSZhbXA7bWlkPTIyNDc0OTIwOTcmYW1wO2lkeD0xJmFtcDtzbj1mNTFmMjlkODZkZjgwOWQ4YWM0M2E0MGExMzY5YjNkNg==\">ã€é¢è¯•é«˜é¢‘é¢˜ã€‘éš¾åº¦ 1.5/5ï¼ŒLCS æ¨¡æ¿é¢˜</span>ã€‚</p>\n<h1 id=\"æ•°ä½dp\"><a class=\"anchor\" href=\"#æ•°ä½dp\">#</a> æ•°ä½ DP</h1>\n<p>LeetCode ä¸Šçš„ **ã€<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9udW1iZXJzLWF0LW1vc3Qtbi1naXZlbi1kaWdpdC1zZXQv\">902. æœ€å¤§ä¸º N çš„æ•°å­—ç»„åˆ</span>ã€‘<strong>ï¼Œéš¾åº¦ä¸º</strong>ã€å›°éš¾ã€‘**ã€‚</p>\n<p>ç»™å®šä¸€ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åˆ—çš„æ•°å­—æ•°ç»„  <code>digits</code> ã€‚ä½ å¯ä»¥ç”¨ä»»æ„æ¬¡æ•° æ¥å†™çš„æ•°å­—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ ï¼Œæˆ‘ä»¬å¯ä»¥å†™æ•°å­—ï¼Œå¦‚  <code>'13'</code> ,  <code>'551'</code> , å’Œ  <code>'1351315'</code> ã€‚</p>\n<p>è¿”å› <strong>å¯ä»¥ç”Ÿæˆçš„å°äºæˆ–ç­‰äºç»™å®šæ•´æ•°</strong> çš„æ­£æ•´æ•°çš„ä¸ªæ•° ã€‚</p>\n<p>ç¤ºä¾‹ 1ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>è¾“å…¥ï¼šdigits <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"1\"</span>,<span class=\"token string\">\"3\"</span>,<span class=\"token string\">\"5\"</span>,<span class=\"token string\">\"7\"</span><span class=\"token punctuation\">]</span>, n <span class=\"token operator\">=</span> <span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>è¾“å‡ºï¼š20</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>è§£é‡Šï¼š</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>å¯å†™å‡ºçš„ <span class=\"token number\">20</span> ä¸ªæ•°å­—æ˜¯ï¼š</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">1</span>, <span class=\"token number\">3</span>, <span class=\"token number\">5</span>, <span class=\"token number\">7</span>, <span class=\"token number\">11</span>, <span class=\"token number\">13</span>, <span class=\"token number\">15</span>, <span class=\"token number\">17</span>, <span class=\"token number\">31</span>, <span class=\"token number\">33</span>, <span class=\"token number\">35</span>, <span class=\"token number\">37</span>, <span class=\"token number\">51</span>, <span class=\"token number\">53</span>, <span class=\"token number\">55</span>, <span class=\"token number\">57</span>, <span class=\"token number\">71</span>, <span class=\"token number\">73</span>, <span class=\"token number\">75</span>, <span class=\"token number\">77</span>.</pre></td></tr></table></figure><blockquote>\n<p>å…¶å®å°±æ˜¯æ•°ç»„ä¸­ç»„åˆèµ·æ¥å°äº n çš„æ•°çš„ä¸ªæ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> nums<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">int</span> <span class=\"token function\">dp</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">%</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            x <span class=\"token operator\">/=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> m <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> ans <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">// ä½æ•°å’Œ x ç›¸åŒ</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> p <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">--</span><span class=\"token punctuation\">,</span> p<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token keyword\">int</span> cur <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token keyword\">int</span> l <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> r <span class=\"token operator\">=</span> m <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>l <span class=\"token operator\">&lt;</span> r<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token keyword\">int</span> mid <span class=\"token operator\">=</span> l <span class=\"token operator\">+</span> r <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">>></span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;=</span> cur<span class=\"token punctuation\">)</span> l <span class=\"token operator\">=</span> mid<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                <span class=\"token keyword\">else</span> r <span class=\"token operator\">=</span> mid <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> cur<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> cur<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                ans <span class=\"token operator\">+=</span> r <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> ans<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> cur<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>                ans <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>r <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// ä½æ•°æ¯” x å°‘çš„</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> last <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token keyword\">int</span> cur <span class=\"token operator\">=</span> last <span class=\"token operator\">*</span> m<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            ans <span class=\"token operator\">+=</span> cur<span class=\"token punctuation\">;</span> last <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">return</span> ans<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">atMostNGivenDigitSet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> digits<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> max<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> digits<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        nums <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>digits<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token function\">dp</span><span class=\"token punctuation\">(</span>max<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "æ•°æ®ç»“æ„ä¸ç®—æ³•"
            ]
        }
    ]
}